!function(e,t,a){var s,o,i="[object OperaMini]"==Object.prototype.toString.call(e.operamini),n="placeholder"in t.createElement("input")&&!i,r="placeholder"in t.createElement("textarea")&&!i,l=a.fn,c=a.valHooks,u=a.propHooks;function p(e,t){var s=this,o=a(s);if(s.value==o.attr("placeholder")&&o.hasClass("placeholder"))if(o.data("placeholder-password")){if(o=o.hide().next().show().attr("id",o.removeAttr("id").data("placeholder-id")),!0===e)return o[0].value=t}else s.value="",o.removeClass("placeholder"),s==h()&&s.select()}function d(){var e,s,o,t=this,i=a(t),n=this.id;if(""==t.value){if("password"==t.type){if(!i.data("placeholder-textinput")){try{e=i.clone().attr({type:"text"})}catch(t){e=a("<input>").attr(a.extend((s={},o=/^jQuery\d+$/,a.each(this.attributes,function(e,t){t.specified&&!o.test(t.name)&&(s[t.name]=t.value)}),s),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":i,"placeholder-id":n}).bind("focus.placeholder",p),i.data({"placeholder-textinput":e,"placeholder-id":n}).before(e)}i=i.removeAttr("id").hide().prev().attr("id",n).show()}i.addClass("placeholder"),i[0].value=i.attr("placeholder")}else i.removeClass("placeholder")}function h(){try{return t.activeElement}catch(e){}}n&&r?(o=l.placeholder=function(){return this}).input=o.textarea=!0:((o=l.placeholder=function(){return this.filter((n?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":p,"blur.placeholder":d}).data("placeholder-enabled",!0).trigger("blur.placeholder"),this}).input=n,o.textarea=r,s={get:function(e){var t=a(e),s=t.data("placeholder-password");return s?s[0].value:t.data("placeholder-enabled")&&t.hasClass("placeholder")?"":e.value},set:function(e,t){var s=a(e),o=s.data("placeholder-password");return o?o[0].value=t:s.data("placeholder-enabled")?(""==t?(e.value=t,e!=h()&&d.call(e)):s.hasClass("placeholder")&&p.call(e,!0,t)||(e.value=t),s):e.value=t}},n||(c.input=s,u.value=s),r||(c.textarea=s,u.value=s),a(function(){a(t).delegate("form","submit.placeholder",function(){var e=a(".placeholder",this).each(p);setTimeout(function(){e.each(d)},10)})}),a(e).bind("beforeunload.placeholder",function(){a(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery),function(u){var p=0,d="iframe",h="popup",f="loose",m="html5",g={mode:d,standard:m,popHt:500,popWd:400,popX:200,popY:200,popTitle:"",popClose:!1,extraCss:"",extraHead:"",retainAttr:["id","class","style"]},v={};function _(){var e,t=v.id;try{e=document.createElement("iframe"),document.body.appendChild(e),u(e).attr({style:"border:0;position:absolute;width:0px;height:0px;left:0px;top:0px;",id:t,src:""}),e.doc=null,e.doc=e.contentDocument?e.contentDocument:e.contentWindow?e.contentWindow.document:e.document}catch(e){throw e+". iframes may not be supported in this browser."}if(null==e.doc)throw"Cannot find document.";return e}function b(){var e="location=yes,statusbar=no,directories=no,menubar=no,titlebar=no,toolbar=no,dependent=no";e+=",width="+v.popWd+",height="+v.popHt,e+=",resizable=yes,screenX="+v.popX+",screenY="+v.popY+",personalbar=no,scrollbars=yes";var t=window.open("","_blank",e);return t.doc=t.document,t}u.fn.printArea=function(e){u.extend(v,g,e),p++;var t,s,o,r,l,i,n,a="printArea_";switch(u("[id^="+a+"]").remove(),v.id=a+p,v.mode){case d:var c=new _;t=c.doc,s=c.contentWindow||c;break;case h:t=(s=new b).doc}t.open(),t.write((v.mode==d?"":v.standard==m?"<!DOCTYPE html>":'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01'+(v.standard==f?" Transitional":"")+'//EN" "http://www.w3.org/TR/html4/'+(v.standard==f?"loose":"strict")+'.dtd">')+"<html>"+(n=i="",v.extraHead&&v.extraHead.replace(/([^,]+)/g,function(e){i+=e}),u(document).find("link").filter(function(){var e=u(this).attr("rel");return"undefined"===u.type(e)==0&&"stylesheet"==e.toLowerCase()}).filter(function(){var e=u(this).attr("media");return"undefined"===u.type(e)||""==e||"print"==e.toLowerCase()||"all"==e.toLowerCase()}).each(function(){n+='<link type="text/css" rel="stylesheet" href="'+u(this).attr("href")+'" >'}),v.extraCss&&v.extraCss.replace(/([^,\s]+)/g,function(e){n+='<link type="text/css" rel="stylesheet" href="'+e+'">'}),"<head><title>"+v.popTitle+"</title>"+i+n+"</head>")+(o=u(this),r="",l=v.retainAttr,o.each(function(){for(var e,t,o,s=(t=(e=u(this)).clone(),o=u("input,select,textarea",t),u("input,select,textarea",e).each(function(e){var t=u(this).attr("type");"undefined"===u.type(t)&&(t=u(this).is("select")?"select":u(this).is("textarea")?"textarea":"");var s=o.eq(e);"radio"==t||"checkbox"==t?s.attr("checked",u(this).is(":checked")):"text"==t?s.attr("value",u(this).val()):"select"==t?u(this).find("option").each(function(e){u(this).is(":selected")&&u("option",s).eq(e).attr("selected",!0)}):"textarea"==t&&s.text(u(this).val())}),t),i="",n=0;n<l.length;n++){var a=u(s).attr(l[n]);a&&(i+=(0<i.length?" ":"")+l[n]+"='"+a+"'")}r+="<div "+i+">"+u(s).html()+"</div>"}),"<body>"+r+"</body>")+"</html>"),t.close(),u(t).ready(function(){s.focus(),s.print(),v.mode==h&&v.popClose&&setTimeout(function(){s.close()},2e3)})}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(I){I.ui=I.ui||{},I.ui.version="1.12.1";var e,t,s,i,n,w,P,o,a,r,l,c,u,p=0,d=Array.prototype.slice;function M(e,t,s){return[parseFloat(e[0])*(c.test(e[0])?t/100:1),parseFloat(e[1])*(c.test(e[1])?s/100:1)]}function S(e,t){return parseInt(I.css(e,t),10)||0}I.cleanData=(i=I.cleanData,function(e){var t,s,o;for(o=0;null!=(s=e[o]);o++)try{(t=I._data(s,"events"))&&t.remove&&I(s).triggerHandler("remove")}catch(e){}i(e)}),I.widget=function(e,s,t){var o,i,n,a={},r=e.split(".")[0],l=r+"-"+(e=e.split(".")[1]);return t||(t=s,s=I.Widget),I.isArray(t)&&(t=I.extend.apply(null,[{}].concat(t))),I.expr[":"][l.toLowerCase()]=function(e){return!!I.data(e,l)},I[r]=I[r]||{},o=I[r][e],i=I[r][e]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new i(e,t)},I.extend(i,o,{version:t.version,_proto:I.extend({},t),_childConstructors:[]}),(n=new s).options=I.widget.extend({},n.options),I.each(t,function(t,o){return I.isFunction(o)?void(a[t]=function(){var e,t=this._super,s=this._superApply;return this._super=i,this._superApply=n,e=o.apply(this,arguments),this._super=t,this._superApply=s,e}):void(a[t]=o);function i(){return s.prototype[t].apply(this,arguments)}function n(e){return s.prototype[t].apply(this,e)}}),i.prototype=I.widget.extend(n,{widgetEventPrefix:o&&n.widgetEventPrefix||e},a,{constructor:i,namespace:r,widgetName:e,widgetFullName:l}),o?(I.each(o._childConstructors,function(e,t){var s=t.prototype;I.widget(s.namespace+"."+s.widgetName,i,t._proto)}),delete o._childConstructors):s._childConstructors.push(i),I.widget.bridge(e,i),i},I.widget.extend=function(e){for(var t,s,o=d.call(arguments,1),i=0,n=o.length;i<n;i++)for(t in o[i])s=o[i][t],o[i].hasOwnProperty(t)&&void 0!==s&&(e[t]=I.isPlainObject(s)?I.isPlainObject(e[t])?I.widget.extend({},e[t],s):I.widget.extend({},s):s);return e},I.widget.bridge=function(n,t){var a=t.prototype.widgetFullName||n;I.fn[n]=function(s){var e="string"==typeof s,o=d.call(arguments,1),i=this;return e?this.length||"instance"!==s?this.each(function(){var e,t=I.data(this,a);return"instance"===s?(i=t,!1):t?I.isFunction(t[s])&&"_"!==s.charAt(0)?(e=t[s].apply(t,o))!==t&&void 0!==e?(i=e&&e.jquery?i.pushStack(e.get()):e,!1):void 0:I.error("no such method '"+s+"' for "+n+" widget instance"):I.error("cannot call methods on "+n+" prior to initialization; attempted to call method '"+s+"'")}):i=void 0:(o.length&&(s=I.widget.extend.apply(null,[s].concat(o))),this.each(function(){var e=I.data(this,a);e?(e.option(s||{}),e._init&&e._init()):I.data(this,a,new t(s,this))})),i}},I.Widget=function(){},I.Widget._childConstructors=[],I.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,t){t=I(t||this.defaultElement||this)[0],this.element=I(t),this.uuid=p++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=I(),this.hoverable=I(),this.focusable=I(),this.classesElementLookup={},t!==this&&(I.data(t,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===t&&this.destroy()}}),this.document=I(t.style?t.ownerDocument:t.document||t),this.window=I(this.document[0].defaultView||this.document[0].parentWindow)),this.options=I.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:I.noop,_create:I.noop,_init:I.noop,destroy:function(){var s=this;this._destroy(),I.each(this.classesElementLookup,function(e,t){s._removeClass(t,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:I.noop,widget:function(){return this.element},option:function(e,t){var s,o,i,n=e;if(0===arguments.length)return I.widget.extend({},this.options);if("string"==typeof e)if(n={},e=(s=e.split(".")).shift(),s.length){for(o=n[e]=I.widget.extend({},this.options[e]),i=0;s.length-1>i;i++)o[s[i]]=o[s[i]]||{},o=o[s[i]];if(e=s.pop(),1===arguments.length)return void 0===o[e]?null:o[e];o[e]=t}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];n[e]=t}return this._setOptions(n),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(e){var t,s,o;for(t in e)o=this.classesElementLookup[t],e[t]!==this.options.classes[t]&&o&&o.length&&(s=I(o.get()),this._removeClass(o,t),s.addClass(this._classes({element:s,keys:t,classes:e,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(i){function e(e,t){var s,o;for(o=0;e.length>o;o++)s=a.classesElementLookup[e[o]]||I(),s=i.add?I(I.unique(s.get().concat(i.element.get()))):I(s.not(i.element).get()),a.classesElementLookup[e[o]]=s,n.push(e[o]),t&&i.classes[e[o]]&&n.push(i.classes[e[o]])}var n=[],a=this;return i=I.extend({element:this.element,classes:this.options.classes||{}},i),this._on(i.element,{remove:"_untrackClassesElement"}),i.keys&&e(i.keys.match(/\S+/g)||[],!0),i.extra&&e(i.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(s){var o=this;I.each(o.classesElementLookup,function(e,t){-1!==I.inArray(s.target,t)&&(o.classesElementLookup[e]=I(t.not(s.target).get()))})},_removeClass:function(e,t,s){return this._toggleClass(e,t,s,!1)},_addClass:function(e,t,s){return this._toggleClass(e,t,s,!0)},_toggleClass:function(e,t,s,o){o="boolean"==typeof o?o:s;var i="string"==typeof e||null===e,n={extra:i?t:s,keys:i?e:t,element:i?this.element:e,add:o};return n.element.toggleClass(this._classes(n),o),this},_on:function(a,r,e){var l,c=this;"boolean"!=typeof a&&(e=r,r=a,a=!1),e?(r=l=I(r),this.bindings=this.bindings.add(r)):(e=r,r=this.element,l=this.widget()),I.each(e,function(e,t){function s(){return a||!0!==c.options.disabled&&!I(this).hasClass("ui-state-disabled")?("string"==typeof t?c[t]:t).apply(c,arguments):void 0}"string"!=typeof t&&(s.guid=t.guid=t.guid||s.guid||I.guid++);var o=e.match(/^([\w:-]*)\s*(.*)$/),i=o[1]+c.eventNamespace,n=o[2];n?l.on(i,n,s):r.on(i,s)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(t).off(t),this.bindings=I(this.bindings.not(e).get()),this.focusable=I(this.focusable.not(e).get()),this.hoverable=I(this.hoverable.not(e).get())},_delay:function(e,t){var s=this;return setTimeout(function(){return("string"==typeof e?s[e]:e).apply(s,arguments)},t||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(I(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(I(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(I(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(I(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,t,s){var o,i,n=this.options[e];if(s=s||{},(t=I.Event(t)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),t.target=this.element[0],i=t.originalEvent)for(o in i)o in t||(t[o]=i[o]);return this.element.trigger(t,s),!(I.isFunction(n)&&!1===n.apply(this.element[0],[t].concat(s))||t.isDefaultPrevented())}},I.each({show:"fadeIn",hide:"fadeOut"},function(n,a){I.Widget.prototype["_"+n]=function(t,e,s){"string"==typeof e&&(e={effect:e});var o,i=e?!0===e||"number"==typeof e?a:e.effect||a:n;"number"==typeof(e=e||{})&&(e={duration:e}),o=!I.isEmptyObject(e),e.complete=s,e.delay&&t.delay(e.delay),o&&I.effects&&I.effects.effect[i]?t[n](e):i!==n&&t[i]?t[i](e.duration,e.easing,s):t.queue(function(e){I(this)[n](),s&&s.call(t[0]),e()})}}),I.widget,w=Math.max,P=Math.abs,o=/left|center|right/,a=/top|center|bottom/,r=/[\+\-]\d+(\.[\d]+)?%?/,l=/^\w+/,c=/%$/,u=I.fn.position,I.position={scrollbarWidth:function(){if(void 0!==n)return n;var e,t,s=I("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=s.children()[0];return I("body").append(s),e=o.offsetWidth,s.css("overflow","scroll"),e===(t=o.offsetWidth)&&(t=s[0].clientWidth),s.remove(),n=e-t},getScrollInfo:function(e){var t=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),s=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),o="scroll"===t||"auto"===t&&e.width<e.element[0].scrollWidth;return{width:"scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight?I.position.scrollbarWidth():0,height:o?I.position.scrollbarWidth():0}},getWithinInfo:function(e){var t=I(e||window),s=I.isWindow(t[0]),o=!!t[0]&&9===t[0].nodeType;return{element:t,isWindow:s,isDocument:o,offset:s||o?{left:0,top:0}:I(e).offset(),scrollLeft:t.scrollLeft(),scrollTop:t.scrollTop(),width:t.outerWidth(),height:t.outerHeight()}}},I.fn.position=function(p){if(!p||!p.of)return u.apply(this,arguments);p=I.extend({},p);var d,h,f,m,g,e,t,s,v=I(p.of),_=I.position.getWithinInfo(p.within),b=I.position.getScrollInfo(_),y=(p.collision||"flip").split(" "),x={};return e=9===(s=(t=v)[0]).nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:I.isWindow(s)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:s.preventDefault?{width:0,height:0,offset:{top:s.pageY,left:s.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()},v[0].preventDefault&&(p.at="left top"),h=e.width,f=e.height,m=e.offset,g=I.extend({},m),I.each(["my","at"],function(){var e,t,s=(p[this]||"").split(" ");1===s.length&&(s=o.test(s[0])?s.concat(["center"]):a.test(s[0])?["center"].concat(s):["center","center"]),s[0]=o.test(s[0])?s[0]:"center",s[1]=a.test(s[1])?s[1]:"center",e=r.exec(s[0]),t=r.exec(s[1]),x[this]=[e?e[0]:0,t?t[0]:0],p[this]=[l.exec(s[0])[0],l.exec(s[1])[0]]}),1===y.length&&(y[1]=y[0]),"right"===p.at[0]?g.left+=h:"center"===p.at[0]&&(g.left+=h/2),"bottom"===p.at[1]?g.top+=f:"center"===p.at[1]&&(g.top+=f/2),d=M(x.at,h,f),g.left+=d[0],g.top+=d[1],this.each(function(){var s,e,a=I(this),r=a.outerWidth(),l=a.outerHeight(),t=S(this,"marginLeft"),o=S(this,"marginTop"),i=r+t+S(this,"marginRight")+b.width,n=l+o+S(this,"marginBottom")+b.height,c=I.extend({},g),u=M(x.my,a.outerWidth(),a.outerHeight());"right"===p.my[0]?c.left-=r:"center"===p.my[0]&&(c.left-=r/2),"bottom"===p.my[1]?c.top-=l:"center"===p.my[1]&&(c.top-=l/2),c.left+=u[0],c.top+=u[1],s={marginLeft:t,marginTop:o},I.each(["left","top"],function(e,t){I.ui.position[y[e]]&&I.ui.position[y[e]][t](c,{targetWidth:h,targetHeight:f,elemWidth:r,elemHeight:l,collisionPosition:s,collisionWidth:i,collisionHeight:n,offset:[d[0]+u[0],d[1]+u[1]],my:p.my,at:p.at,within:_,elem:a})}),p.using&&(e=function(e){var t=m.left-c.left,s=t+h-r,o=m.top-c.top,i=o+f-l,n={target:{element:v,left:m.left,top:m.top,width:h,height:f},element:{element:a,left:c.left,top:c.top,width:r,height:l},horizontal:s<0?"left":0<t?"right":"center",vertical:i<0?"top":0<o?"bottom":"middle"};h<r&&h>P(t+s)&&(n.horizontal="center"),f<l&&f>P(o+i)&&(n.vertical="middle"),n.important=w(P(t),P(s))>w(P(o),P(i))?"horizontal":"vertical",p.using.call(this,e,n)}),a.offset(I.extend(c,{using:e}))})},I.ui.position={fit:{left:function(e,t){var s,o=t.within,i=o.isWindow?o.scrollLeft:o.offset.left,n=o.width,a=e.left-t.collisionPosition.marginLeft,r=i-a,l=a+t.collisionWidth-n-i;t.collisionWidth>n?0<r&&l<=0?(s=e.left+r+t.collisionWidth-n-i,e.left+=r-s):e.left=0<l&&r<=0?i:l<r?i+n-t.collisionWidth:i:0<r?e.left+=r:0<l?e.left-=l:e.left=w(e.left-a,e.left)},top:function(e,t){var s,o=t.within,i=o.isWindow?o.scrollTop:o.offset.top,n=t.within.height,a=e.top-t.collisionPosition.marginTop,r=i-a,l=a+t.collisionHeight-n-i;t.collisionHeight>n?0<r&&l<=0?(s=e.top+r+t.collisionHeight-n-i,e.top+=r-s):e.top=0<l&&r<=0?i:l<r?i+n-t.collisionHeight:i:0<r?e.top+=r:0<l?e.top-=l:e.top=w(e.top-a,e.top)}},flip:{left:function(e,t){var s,o,i=t.within,n=i.offset.left+i.scrollLeft,a=i.width,r=i.isWindow?i.scrollLeft:i.offset.left,l=e.left-t.collisionPosition.marginLeft,c=l-r,u=l+t.collisionWidth-a-r,p="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,d="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,h=-2*t.offset[0];c<0?((s=e.left+p+d+h+t.collisionWidth-a-n)<0||P(c)>s)&&(e.left+=p+d+h):0<u&&(0<(o=e.left-t.collisionPosition.marginLeft+p+d+h-r)||u>P(o))&&(e.left+=p+d+h)},top:function(e,t){var s,o,i=t.within,n=i.offset.top+i.scrollTop,a=i.height,r=i.isWindow?i.scrollTop:i.offset.top,l=e.top-t.collisionPosition.marginTop,c=l-r,u=l+t.collisionHeight-a-r,p="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,d="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,h=-2*t.offset[1];c<0?((o=e.top+p+d+h+t.collisionHeight-a-n)<0||P(c)>o)&&(e.top+=p+d+h):0<u&&(0<(s=e.top-t.collisionPosition.marginTop+p+d+h-r)||u>P(s))&&(e.top+=p+d+h)}},flipfit:{left:function(){I.ui.position.flip.left.apply(this,arguments),I.ui.position.fit.left.apply(this,arguments)},top:function(){I.ui.position.flip.top.apply(this,arguments),I.ui.position.fit.top.apply(this,arguments)}}},I.ui.position,I.extend(I.expr[":"],{data:I.expr.createPseudo?I.expr.createPseudo(function(t){return function(e){return!!I.data(e,t)}}):function(e,t,s){return!!I.data(e,s[3])}}),I.fn.extend({disableSelection:(s="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(s+".ui-disableSelection",function(e){e.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}}),I.ui.focusable=function(e,t){var s,o,i,n,a,r=e.nodeName.toLowerCase();return"area"===r?(o=(s=e.parentNode).name,!(!e.href||!o||"map"!==s.nodeName.toLowerCase())&&0<(i=I("img[usemap='#"+o+"']")).length&&i.is(":visible")):(/^(input|select|textarea|button|object)$/.test(r)?(n=!e.disabled)&&(a=I(e).closest("fieldset")[0])&&(n=!a.disabled):n="a"===r&&e.href||t,n&&I(e).is(":visible")&&function(e){for(var t=e.css("visibility");"inherit"===t;)t=(e=e.parent()).css("visibility");return"hidden"!==t}(I(e)))},I.extend(I.expr[":"],{focusable:function(e){return I.ui.focusable(e,null!=I.attr(e,"tabindex"))}}),I.ui.focusable,I.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):I(this[0].form)},I.ui.formResetMixin={_formResetHandler:function(){var t=I(this);setTimeout(function(){var e=t.data("ui-form-reset-instances");I.each(e,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var e=this.form.data("ui-form-reset-instances")||[];e.length||this.form.on("reset.ui-form-reset",this._formResetHandler),e.push(this),this.form.data("ui-form-reset-instances",e)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(I.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}},"1.7"===I.fn.jquery.substring(0,3)&&(I.each(["Width","Height"],function(e,s){function o(e,t,s,o){return I.each(i,function(){t-=parseFloat(I.css(e,"padding"+this))||0,s&&(t-=parseFloat(I.css(e,"border"+this+"Width"))||0),o&&(t-=parseFloat(I.css(e,"margin"+this))||0)}),t}var i="Width"===s?["Left","Right"]:["Top","Bottom"],n=s.toLowerCase(),a={innerWidth:I.fn.innerWidth,innerHeight:I.fn.innerHeight,outerWidth:I.fn.outerWidth,outerHeight:I.fn.outerHeight};I.fn["inner"+s]=function(e){return void 0===e?a["inner"+s].call(this):this.each(function(){I(this).css(n,o(this,e)+"px")})},I.fn["outer"+s]=function(e,t){return"number"!=typeof e?a["outer"+s].call(this,e):this.each(function(){I(this).css(n,o(this,e,!0,t)+"px")})}}),I.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),I.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},I.ui.escapeSelector=(t=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,function(e){return e.replace(t,"\\$1")}),I.fn.labels=function(){var e,t,s,o,i;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(o=this.eq(0).parents("label"),(s=this.attr("id"))&&(i=(e=this.eq(0).parents().last()).add(e.length?e.siblings():this.siblings()),t="label[for='"+I.ui.escapeSelector(s)+"']",o=o.add(i.find(t).addBack(t))),this.pushStack(o))},I.fn.scrollParent=function(e){var t=this.css("position"),s="absolute"===t,o=e?/(auto|scroll|hidden)/:/(auto|scroll)/,i=this.parents().filter(function(){var e=I(this);return(!s||"static"!==e.css("position"))&&o.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==t&&i.length?i:I(this[0].ownerDocument||document)},I.extend(I.expr[":"],{tabbable:function(e){var t=I.attr(e,"tabindex"),s=null!=t;return(!s||0<=t)&&I.ui.focusable(e,s)}}),I.fn.extend({uniqueId:(e=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&I(this).removeAttr("id")})}}),I.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var h=!1;I(document).on("mouseup",function(){h=!1}),I.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(e){return!0===I.data(e.target,t.widgetName+".preventClickEvent")?(I.removeData(e.target,t.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!h){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var t=this,s=1===e.which,o=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&I(e.target).closest(this.options.cancel).length;return s&&!o&&this._mouseCapture(e)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){t.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?e.preventDefault():(!0===I.data(e.target,this.widgetName+".preventClickEvent")&&I.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return t._mouseMove(e)},this._mouseUpDelegate=function(e){return t._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),h=!0)),!0}},_mouseMove:function(e){if(this._mouseMoved){if(I.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&I.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,h=!1,e.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),I.ui.plugin={add:function(e,t,s){var o,i=I.ui[e].prototype;for(o in s)i.plugins[o]=i.plugins[o]||[],i.plugins[o].push([t,s[o]])},call:function(e,t,s,o){var i,n=e.plugins[t];if(n&&(o||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(i=0;n.length>i;i++)e.options[n[i][0]]&&n[i][1].apply(e.element,s)}},I.ui.safeActiveElement=function(t){var s;try{s=t.activeElement}catch(e){s=t.body}return(s=s||t.body).nodeName||(s=t.body),s},I.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&I(e).trigger("blur")},I.widget("ui.draggable",I.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var t=this.options;return!(this.helper||t.disabled||0<I(e.target).closest(".ui-resizable-handle").length||(this.handle=this._getHandle(e),!this.handle||(this._blurActiveElement(e),this._blockFrames(!0===t.iframeFix?"iframe":t.iframeFix),0)))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=I(this);return I("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var t=I.ui.safeActiveElement(this.document[0]);I(e.target).closest(t).length||I.ui.safeBlur(t)},_mouseStart:function(e){var t=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),I.ui.ddmanager&&(I.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===I(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,t.cursorAt&&this._adjustOffsetFromHelper(t.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),I.ui.ddmanager&&!t.dropBehaviour&&I.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),I.ui.ddmanager&&I.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(e,t){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!t){var s=this._uiHash();if(!1===this._trigger("drag",e,s))return this._mouseUp(new I.Event("mouseup",e)),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",I.ui.ddmanager&&I.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var t=this,s=!1;return I.ui.ddmanager&&!this.options.dropBehaviour&&(s=I.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||!0===this.options.revert||I.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?I(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==t._trigger("stop",e)&&t._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),I.ui.ddmanager&&I.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),I.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new I.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!I(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var t=this.options,s=I.isFunction(t.helper),o=s?I(t.helper.apply(this.element[0],[e])):"clone"===t.helper?this.element.clone().removeAttr("id"):this.element;return o.parents("body").length||o.appendTo("parent"===t.appendTo?this.element[0].parentNode:t.appendTo),s&&o[0]===this.element[0]&&this._setPositionRelative(),o[0]===this.element[0]||/(fixed|absolute)/.test(o.css("position"))||o.css("position","absolute"),o},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),I.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),t=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==t&&I.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,t,s,o=this.options,i=this.document[0];return this.relativeContainer=null,o.containment?"window"===o.containment?void(this.containment=[I(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,I(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,I(window).scrollLeft()+I(window).width()-this.helperProportions.width-this.margins.left,I(window).scrollTop()+(I(window).height()||i.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===o.containment?void(this.containment=[0,0,I(i).width()-this.helperProportions.width-this.margins.left,(I(i).height()||i.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):o.containment.constructor===Array?void(this.containment=o.containment):("parent"===o.containment&&(o.containment=this.helper[0].parentNode),void((s=(t=I(o.containment))[0])&&(e=/(scroll|auto)/.test(t.css("overflow")),this.containment=[(parseInt(t.css("borderLeftWidth"),10)||0)+(parseInt(t.css("paddingLeft"),10)||0),(parseInt(t.css("borderTopWidth"),10)||0)+(parseInt(t.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(t.css("borderRightWidth"),10)||0)-(parseInt(t.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(t.css("borderBottomWidth"),10)||0)-(parseInt(t.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=t))):void(this.containment=null)},_convertPositionTo:function(e,t){t=t||this.position;var s="absolute"===e?1:-1,o=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.offset.scroll.top:o?0:this.offset.scroll.top)*s,left:t.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.offset.scroll.left:o?0:this.offset.scroll.left)*s}},_generatePosition:function(e,t){var s,o,i,n,a=this.options,r=this._isRootNode(this.scrollParent[0]),l=e.pageX,c=e.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(s=this.relativeContainer?(o=this.relativeContainer.offset(),[this.containment[0]+o.left,this.containment[1]+o.top,this.containment[2]+o.left,this.containment[3]+o.top]):this.containment,e.pageX-this.offset.click.left<s[0]&&(l=s[0]+this.offset.click.left),e.pageY-this.offset.click.top<s[1]&&(c=s[1]+this.offset.click.top),e.pageX-this.offset.click.left>s[2]&&(l=s[2]+this.offset.click.left),e.pageY-this.offset.click.top>s[3]&&(c=s[3]+this.offset.click.top)),a.grid&&(i=a.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,c=s?i-this.offset.click.top>=s[1]||i-this.offset.click.top>s[3]?i:i-this.offset.click.top>=s[1]?i-a.grid[1]:i+a.grid[1]:i,n=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=s?n-this.offset.click.left>=s[0]||n-this.offset.click.left>s[2]?n:n-this.offset.click.left>=s[0]?n-a.grid[0]:n+a.grid[0]:n),"y"===a.axis&&(l=this.originalPageX),"x"===a.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,t,s){return s=s||this._uiHash(),I.ui.plugin.call(this,e,[t,s,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),I.Widget.prototype._trigger.call(this,e,t,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),I.ui.plugin.add("draggable","connectToSortable",{start:function(t,e,s){var o=I.extend({},e,{item:s.element});s.sortables=[],I(s.options.connectToSortable).each(function(){var e=I(this).sortable("instance");e&&!e.options.disabled&&(s.sortables.push(e),e.refreshPositions(),e._trigger("activate",t,o))})},stop:function(t,e,s){var o=I.extend({},e,{item:s.element});s.cancelHelperRemoval=!1,I.each(s.sortables,function(){var e=this;e.isOver?(e.isOver=0,s.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,o))})},drag:function(s,o,i){I.each(i.sortables,function(){var e=!1,t=this;t.positionAbs=i.positionAbs,t.helperProportions=i.helperProportions,t.offset.click=i.offset.click,t._intersectsWith(t.containerCache)&&(e=!0,I.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==t&&this._intersectsWith(this.containerCache)&&I.contains(t.element[0],this.element[0])&&(e=!1),e})),e?(t.isOver||(t.isOver=1,i._parent=o.helper.parent(),t.currentItem=o.helper.appendTo(t.element).data("ui-sortable-item",!0),t.options._helper=t.options.helper,t.options.helper=function(){return o.helper[0]},s.target=t.currentItem[0],t._mouseCapture(s,!0),t._mouseStart(s,!0,!0),t.offset.click.top=i.offset.click.top,t.offset.click.left=i.offset.click.left,t.offset.parent.left-=i.offset.parent.left-t.offset.parent.left,t.offset.parent.top-=i.offset.parent.top-t.offset.parent.top,i._trigger("toSortable",s),i.dropped=t.element,I.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,t.fromOutside=i),t.currentItem&&(t._mouseDrag(s),o.position=t.position)):t.isOver&&(t.isOver=0,t.cancelHelperRemoval=!0,t.options._revert=t.options.revert,t.options.revert=!1,t._trigger("out",s,t._uiHash(t)),t._mouseStop(s,!0),t.options.revert=t.options._revert,t.options.helper=t.options._helper,t.placeholder&&t.placeholder.remove(),o.helper.appendTo(i._parent),i._refreshOffsets(s),o.position=i._generatePosition(s,!0),i._trigger("fromSortable",s),i.dropped=!1,I.each(i.sortables,function(){this.refreshPositions()}))})}}),I.ui.plugin.add("draggable","cursor",{start:function(e,t,s){var o=I("body"),i=s.options;o.css("cursor")&&(i._cursor=o.css("cursor")),o.css("cursor",i.cursor)},stop:function(e,t,s){var o=s.options;o._cursor&&I("body").css("cursor",o._cursor)}}),I.ui.plugin.add("draggable","opacity",{start:function(e,t,s){var o=I(t.helper),i=s.options;o.css("opacity")&&(i._opacity=o.css("opacity")),o.css("opacity",i.opacity)},stop:function(e,t,s){var o=s.options;o._opacity&&I(t.helper).css("opacity",o._opacity)}}),I.ui.plugin.add("draggable","scroll",{start:function(e,t,s){s.scrollParentNotHidden||(s.scrollParentNotHidden=s.helper.scrollParent(!1)),s.scrollParentNotHidden[0]!==s.document[0]&&"HTML"!==s.scrollParentNotHidden[0].tagName&&(s.overflowOffset=s.scrollParentNotHidden.offset())},drag:function(e,t,s){var o=s.options,i=!1,n=s.scrollParentNotHidden[0],a=s.document[0];n!==a&&"HTML"!==n.tagName?(o.axis&&"x"===o.axis||(s.overflowOffset.top+n.offsetHeight-e.pageY<o.scrollSensitivity?n.scrollTop=i=n.scrollTop+o.scrollSpeed:e.pageY-s.overflowOffset.top<o.scrollSensitivity&&(n.scrollTop=i=n.scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(s.overflowOffset.left+n.offsetWidth-e.pageX<o.scrollSensitivity?n.scrollLeft=i=n.scrollLeft+o.scrollSpeed:e.pageX-s.overflowOffset.left<o.scrollSensitivity&&(n.scrollLeft=i=n.scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(e.pageY-I(a).scrollTop()<o.scrollSensitivity?i=I(a).scrollTop(I(a).scrollTop()-o.scrollSpeed):I(window).height()-(e.pageY-I(a).scrollTop())<o.scrollSensitivity&&(i=I(a).scrollTop(I(a).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(e.pageX-I(a).scrollLeft()<o.scrollSensitivity?i=I(a).scrollLeft(I(a).scrollLeft()-o.scrollSpeed):I(window).width()-(e.pageX-I(a).scrollLeft())<o.scrollSensitivity&&(i=I(a).scrollLeft(I(a).scrollLeft()+o.scrollSpeed)))),!1!==i&&I.ui.ddmanager&&!o.dropBehaviour&&I.ui.ddmanager.prepareOffsets(s,e)}}),I.ui.plugin.add("draggable","snap",{start:function(e,t,s){var o=s.options;s.snapElements=[],I(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each(function(){var e=I(this),t=e.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:t.top,left:t.left})})},drag:function(e,t,s){var o,i,n,a,r,l,c,u,p,d,h=s.options,f=h.snapTolerance,m=t.offset.left,g=m+s.helperProportions.width,v=t.offset.top,_=v+s.helperProportions.height;for(p=s.snapElements.length-1;0<=p;p--)l=(r=s.snapElements[p].left-s.margins.left)+s.snapElements[p].width,u=(c=s.snapElements[p].top-s.margins.top)+s.snapElements[p].height,g<r-f||l+f<m||_<c-f||u+f<v||!I.contains(s.snapElements[p].item.ownerDocument,s.snapElements[p].item)?(s.snapElements[p].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,e,I.extend(s._uiHash(),{snapItem:s.snapElements[p].item})),s.snapElements[p].snapping=!1):("inner"!==h.snapMode&&(o=f>=Math.abs(c-_),i=f>=Math.abs(u-v),n=f>=Math.abs(r-g),a=f>=Math.abs(l-m),o&&(t.position.top=s._convertPositionTo("relative",{top:c-s.helperProportions.height,left:0}).top),i&&(t.position.top=s._convertPositionTo("relative",{top:u,left:0}).top),n&&(t.position.left=s._convertPositionTo("relative",{top:0,left:r-s.helperProportions.width}).left),a&&(t.position.left=s._convertPositionTo("relative",{top:0,left:l}).left)),d=o||i||n||a,"outer"!==h.snapMode&&(o=f>=Math.abs(c-v),i=f>=Math.abs(u-_),n=f>=Math.abs(r-m),a=f>=Math.abs(l-g),o&&(t.position.top=s._convertPositionTo("relative",{top:c,left:0}).top),i&&(t.position.top=s._convertPositionTo("relative",{top:u-s.helperProportions.height,left:0}).top),n&&(t.position.left=s._convertPositionTo("relative",{top:0,left:r}).left),a&&(t.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left)),!s.snapElements[p].snapping&&(o||i||n||a||d)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,e,I.extend(s._uiHash(),{snapItem:s.snapElements[p].item})),s.snapElements[p].snapping=o||i||n||a||d)}}),I.ui.plugin.add("draggable","stack",{start:function(e,t,s){var o,i=s.options,n=I.makeArray(I(i.stack)).sort(function(e,t){return(parseInt(I(e).css("zIndex"),10)||0)-(parseInt(I(t).css("zIndex"),10)||0)});n.length&&(o=parseInt(I(n[0]).css("zIndex"),10)||0,I(n).each(function(e){I(this).css("zIndex",o+e)}),this.css("zIndex",o+n.length))}}),I.ui.plugin.add("draggable","zIndex",{start:function(e,t,s){var o=I(t.helper),i=s.options;o.css("zIndex")&&(i._zIndex=o.css("zIndex")),o.css("zIndex",i.zIndex)},stop:function(e,t,s){var o=s.options;o._zIndex&&I(t.helper).css("zIndex",o._zIndex)}}),I.ui.draggable}),jQuery.noConflict(),function(Ot){Ot(function(){var e,u,p,a,s,h,f,m,g,v,_,r,b,y,I,w,l,P,M,S,T,j,k,A,C,E,D=new Array,q=1,o=0,O="",H=1,F=1,R=0,L=0,Q=!1,G=4851960,W=4851960,i="",n=0,N="SPF",X="SPF_VA",V=GcrossProjectsId_SPF,U=(GcrossProjectsIdifaqs,0),Y=navigator.appName,t=0,J=200,B=201,c=0,$=1,K=!1,Z=document.title,ee=(Z=we(document.title),""),te="",se=!1,oe="",ie="SPF",ne="SPF",ae="Police Matters",re="CAR",le="CAQ",ce=navigator.userAgent,ue=0,pe=!1,de=!1,he=[],fe=[],me=0,ge=0,ve=1,_e=0,be=0,ye=window.location.href.substring(0,5);WSURL="https"==ye?(E="https://va.ecitizen.gov.sg/flexAnsWS/ifaqservice.asmx/","https://ifaqs.flexanswer.com/FlexWS/ifaqservice.asmx/"):(E="http://va.ecitizen.gov.sg/flexAnsWS/ifaqservice.asmx/","http://ifaqs.flexanswer.com/FlexWS/ifaqservice.asmx/");var xe="//va.ecitizen.gov.sg/CFP/VA/SPF/",Ie="//va.ecitizen.gov.sg/surveys/AskJamie_SPF/surveyform";function we(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var Pe=we(function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null==t?"":decodeURIComponent(t[1].replace(/\+/g," "))}("PageTitle"));y=qe(),Ot(".chat_box textarea").removeAttr("disabled"),Ot.browser.mobile?(e=1,ee="Mobile",""!=Pe&&(Z=Pe)):e=0;var Me,Se,Te,je,ke,Ae,Ce=navigator.userAgent.toLowerCase(),Ee=-1<Ce.indexOf("android"),De=-1<Ce.indexOf("chrome");function qe(){var e,t=navigator.userAgent,s=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*([\d\.]+)/i)||[];return/trident/i.test(s[1])?"IE "+((e=/\brv[ :]+(\d+(\.\d+)?)/g.exec(t)||[])[1]||""):(s=s[2]?[s[1],s[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/([\.\d]+)/i))&&(s[2]=e[1]),s.join(" "))}function Oe(){return null==jt("UserIPAddress")?"UnKnown":jt("UserIPAddress")}function He(){if(y=qe(),Z=String(Z).replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"),"Microsoft Internet Explorer"==Y)if("MSIE 7.0"==y)Z=Z.replace(/\s/g,"+"),te=(te=navigator.userAgent).replace(/\s/g,"+"),Ot.ajax({type:"POST",url:yql_url(encodeURIComponent(E+"StartSessionNew?ProjectId="+G+"&Source="+X+"&Platform="+ee+"&PageTitle="+Z+"&Channel="+te)),dataType:"jsonp",contentType:"application/json;charset=utf-8",success:function(e){Se=e.results[0],Fe()}});else{var e=new XDomainRequest;e.open("get",E+"StartSessionNew?ProjectId="+G+"&Source="+X+"&Platform="+ee+"&PageTitle="+Z+"&Channel="),e.onerror=function(){},e.ontimeout=function(){},e.onprogress=function(){},e.onload=function(){Me=e.responseText,"MSIE 9.0"==y?Tt("ASP.NET_UserSessionId",String(Me).substr(79,24)):Fe(Me)},setTimeout(function(){e.send()},0)}else url_name=E,Ot.ajax({type:"POST",url:url_name+"StartSessionNew",data:{ProjectId:G,Source:X,Platform:ee,PageTitle:Z,Channel:te},dataType:"xml",success:Fe})}function Fe(e){var t;"MSIE 7.0"!=y&&"MSIE 8.0"!=y||((t=new ActiveXObject("Microsoft.XMLDOM")).async="false","MSIE 7.0"==y?t.loadXML(Se):t.loadXML(Me),e=t),Tt("ASP.NET_UserSessionId",Ot(e).find("string").text())}function Re(){return null==jt("ASP.NET_UserSessionId")?"12345":jt("ASP.NET_UserSessionId")}function Le(e){var t;"MSIE 7.0"!=y&&"MSIE 8.0"!=y||((t=new ActiveXObject("Microsoft.XMLDOM")).async="false","MSIE 7.0"==y?t.loadXML(je):t.loadXML(Te),e=t),Tt("ProjectScore",Ot(e).find("int").text())}function Qe(e){var t;"MSIE 7.0"!=y&&"MSIE 8.0"!=y||((t=new ActiveXObject("Microsoft.XMLDOM")).async="false","MSIE 7.0"==y?t.loadXML(je):t.loadXML(Te),e=t),Tt("CPS",Ot(e).find("int").text())}function Ge(e){""!=(e=Ot.trim(e))&&(u='<div class="VAclear"></div><div class="speech-bubble"><strong>You asked:</strong> <p>'+e+"</p></div>",lt())}function We(e,t,s,o,i){if(t=(t=t.replace(/[^a-zA-Z0-9?.+\-\*\/\s]/g,"")).replace(/\</g,""),"MSIE 7.0"==y&&(t=t.replace(/\s/g,"+")),1<t.replace(/\+/g,"").length)if("none"==Ot(".FAQ_tab").css("display")&&Ot(".FAQ_tab").css("display","block"),"block"==Ot(".avatar_content > div.FAQ_links").css("display")&&Ot(".avatar_content > div.FAQ_links").css("display","none"),Ot(".send_button").show(),v=t,9755532!=e&&(he.length=0,fe.length=0,Ot(".load").css("display","block")),Ot("ul.autocomplete").css({display:"none"}),a=0,y=qe(),url_name=E,url_name=1==_e?WSURL:E,(new Date).getTime(),"Microsoft Internet Explorer"==Y)if("MSIE 7.0"==y)Ot.ajax({type:"POST",url:yql_url(encodeURIComponent(E+"AskWSLanguage?ProjectId="+e+"&Question="+t+"&RecordQuestion="+s+"&SessionId="+Re()+"&TextLanguage="+o+"&format=xml&callback=?")),dataType:"jsonp",contentType:"application/json; charset=utf-8",success:function(e){tt(Ae=e.results[0],o,i)}});else{var n=new XDomainRequest;n.open("get",E+"AskWSLanguage?ProjectId="+e+"&Question="+t+"&RecordQuestion="+s+"&SessionId="+Re()+"&TextLanguage="+o),n.onerror=function(){},n.ontimeout=function(){},n.onprogress=function(){},n.onload=function(){tt(ke=n.responseText,o,i)},n.send()}else Ot.ajax({type:"POST",url:url_name+"AskWSLanguage",data:{ProjectId:e,Question:t,RecordQuestion:s,SessionId:Re(),TextLanguage:o},dataType:"xml",success:function(e){tt(e,o,i)},complete:function(e,t){}});else Ot.browser.mobile?Ot(".chat_box textarea").val(""):(Ot(".chat_box textarea").val(""),"MSIE 9.0"!=y&&Ot(".chat_box textarea").focus())}Ot.browser.mobile&&Ee&&De&&Ot(".print_link").hide(),2==q&&Ot(".avatar_content").addClass("switch_option_2"),yql_url=function(e){return'https://query.yahooapis.com/v1/public/yql?q=select * from xml where url="'+e+'"'},Ot("input, textarea").placeholder(),Ot("div.chat_box").css("visibility","visible");var Ne,Xe,Ve,Ue,ze,Ye,Je,Be,$e,Ke,Ze=[],et=[];function tt(e,t,s){var o;"MSIE 7.0"!=y&&"MSIE 8.0"!=y||((o=new ActiveXObject("Microsoft.XMLDOM")).async="false","MSIE 7.0"==y?o.loadXML(Ae):o.loadXML(ke),e=o);var i,n;(new Date).getTime();function c(s){if(y=qe(),Ot(".load").css("display","block"),"Microsoft Internet Explorer"==Y)if("MSIE 7.0"==y)Ot.ajax({type:"POST",url:yql_url(encodeURIComponent(E+"GetCrossProject?ProjectId="+s+"&Question="+question+"&RecordQuestion=no&SessionId="+Re()+"&format=xml&callback=?")),dataType:"jsonp",contentType:"application/json; charset=utf-8",success:function(e){n=e.results[0],o()}});else{var t=new XDomainRequest;t.open("get",E+"GetCrossProject?ProjectId="+s+"&Question="+question+"&RecordQuestion=no&SessionId="+Re()),t.onerror=function(){},t.ontimeout=function(){},t.onprogress=function(){},t.onload=function(){if(i=t.responseText,""!=Ot.trim(String(i)))if("MSIE 9.0"==y||"MSIE 10.0"==y){var e=String(i);IEcrossproject(e),""!=IEGcrossProjectId?(r=IEGcrossProjectName,We(b=IEGcrossProjectId,v,"no","en","")):a()}else o(i);else a()},t.send()}else Ot.ajax({type:"POST",url:url_name+"GetCrossProject",data:{ProjectId:s,Question:question,RecordQuestion:"no",SessionId:Re()},dataType:"xml",success:o});function o(e){var t;"MSIE 7.0"!=(y=qe())&&"MSIE 8.0"!=y||((t=new ActiveXObject("Microsoft.XMLDOM")).async="false","MSIE 7.0"==y?t.loadXML(n):t.loadXML(i),e=t),s=Ot(e).find("string").text(),""!=Ot.trim(s)?(crossproject(s),r=GcrossProjectName,b=GcrossProjectId,We(s,v,"no","en","")):a()}}function a(){Ot(".load").css("display","block"),question=question.trim(),Ot.ajax({type:"POST",url:"//va.ecitizen.gov.sg/flexansapi/CrossAgency/AskJudy",data:{text:question},dataType:"json",async:!1,success:function(s){"direct"==s.answerType?(Ot(".load").css("display","none"),outputjudy='<div class="VAclear"></div><div class="speech-bubble1"><strong class="va_says">Jamie says:</strong><p class="project_2_answer_heading">I found an answer from <b>Ask Judy@HDB</b>.</p><br>',outputjudy+="<p>"+s.text+"</p></div>",Ot(".avatar_content > ul > li").last().append(outputjudy),ut(),ve=0,"undefined"!=typeof openAuto&&openAuto&&Ot(".mdone").hide()):"guided"==s.answerType?(Ot(".load").css("display","none"),outputjudy='<div class="VAclear"></div><div class="speech-bubble1"><strong class="va_says">Jamie says:</strong><p class="project_2_answer_heading">I found an answer from <b>Ask Judy@HDB</b>.</p><br>',outputjudy+="<p>"+s.text+"</p>",Ot.each(s.choices,function(e,t){outputjudy+='<span style="display:inline-block;margin-bottom:5px;" class="judy_choice" choicetext ="'+t.text+'" choiceval="'+t.value+'" cid="'+s.cid+'">'+t.text+"</span>"}),outputjudy+="</div>",Ot(".avatar_content > ul > li").last().append(outputjudy),ut(),ve=0,"undefined"!=typeof openAuto&&openAuto&&Ot(".mdone").hide(),function t(){Ot(".judy_choice").each(function(){Ot(this).click(function(e){Ot(".load").css("display","block"),selectedtxt=Ot(this).attr("choicetext"),Ot.ajax({type:"POST",url:"//va.ecitizen.gov.sg/flexansapi/CrossAgency/AskJudy",data:{text:question,value:Ot(this).attr("choiceval"),cid:Ot(this).attr("cid")},dataType:"json",async:!1,success:function(s){Ot(".judy_choice").each(function(){Ot(this).css("display","none")}),"direct"==s.answerType?(Ot(".load").css("display","none"),outputjudy='<div class="VAclear"></div><div class="speech-bubble"><strong>You selected:</strong><p>'+selectedtxt+"</p></div>",outputjudy+='<div class="VAclear"></div><div class="speech-bubble1"><strong class="va_says">Jamie says:</strong><p>'+s.text+"</p></div>",Ot(".avatar_content > ul > li").last().append(outputjudy),ut()):"guided"==s.answerType?(Ot(".load").css("display","none"),outputjudy='<div class="VAclear"></div><div class="speech-bubble"><strong>You selected:</strong><p>'+selectedtxt+"</p></div>",outputjudy+='<div class="VAclear"></div><div class="speech-bubble1"><strong class="va_says">Jamie says:</strong><p>'+s.text+"</p>",Ot.each(s.choices,function(e,t){outputjudy+='<span style="display:inline-block;margin-bottom:5px;" class="judy_choice" choicetext ="'+t.text+'" choiceval="'+t.value+'" cid="'+s.cid+'">'+t.text+"</span>"}),outputjudy+="</div>",Ot(".avatar_content > ul > li").last().append(outputjudy),ut(),t()):(it(et[0].toString(),le),0==pe?(nt(v),u='<div class="VAclear"></div><div class="speech-bubble1"><p class="project_2_answer_heading" style="margin-top:0">Would you like me to search Gov FAQs?<ul style="margin:0"><li class="project_2_display_link">Yes</li></ul><div class="project_2_answer"></div></div>',Ot(".avatar_content > ul > li").last().append(u),ct(),rt(question,m)):""==u&&nt(v))},error:function(e){it(et[0].toString(),le),0==pe?(nt(v),u='<div class="VAclear"></div><div class="speech-bubble1"><p class="project_2_answer_heading" style="margin-top:0">Would you like me to search Gov FAQs?<ul style="margin:0"><li class="project_2_display_link">Yes</li></ul><div class="project_2_answer"></div></div>',Ot(".avatar_content > ul > li").last().append(u),ct(),rt(question,m)):""==u&&nt(v)}})})})}()):(it(et[0].toString(),le),0==pe?(nt(v),u='<div class="VAclear"></div><div class="speech-bubble1"><p class="project_2_answer_heading" style="margin-top:0">Would you like me to search Gov FAQs?<ul style="margin:0"><li class="project_2_display_link">Yes</li></ul><div class="project_2_answer"></div></div>',Ot(".avatar_content > ul > li").last().append(u),ct(),rt(question,m)):""==u&&nt(v))},error:function(e){it(et[0].toString(),le),0==pe?(nt(v),u='<div class="VAclear"></div><div class="speech-bubble1"><p class="project_2_answer_heading" style="margin-top:0">Would you like me to search Gov FAQs?<ul style="margin:0"><li class="project_2_display_link">Yes</li></ul><div class="project_2_answer"></div></div>',Ot(".avatar_content > ul > li").last().append(u),ct(),rt(question,m)):""==u&&nt(v)}})}h=0,Ot(".load").css("display","none"),"undefined"!=typeof openAuto&&openAuto?Ot(".mdone").hide():Ot(".mdone").show(),"undefined"!=typeof openAuto&&openAuto&&(Ot(".mdone").attr("href",Ie),Ot(".mdone").removeAttr("target"),Ot(".mdone").removeAttr("onclick")),Ot(".chat_head .VAclose").css({right:"95px"}),output2="",output3=u="",output5=O="",f="",m=Ot(e).find("MesId").text(),"en"!=t&&""!=s&&function(e,t,s){if(y=qe(),"Microsoft Internet Explorer"==Y)if("MSIE 7.0"==y)Ot.ajax({type:"POST",url:yql_url(encodeURIComponent(E+"AddOrgQuestion?MesId="+e+"&Question="+t+"&Source="+s+"&format=xml&callback=?")),dataType:"jsonp",contentType:"application/json; charset=utf-8",success:function(e){e.results[0]}});else{var o=new XDomainRequest;o.open("get",E+"AddOrgQuestion?MesId="+e+"&Question="+t+"&Source="+s),o.onload=function(){o.responseText},o.send()}else url_name=E,Ot.ajax({type:"POST",url:url_name+"AddOrgQuestion",data:{MesId:e,Question:t,Source:s},dataType:"xml"})}(m,s,X),p=1,Ot(e).find("Response").each(function(e){if(0==e){if(flag=Ot(this).find("IsTopMatch").text(),I=Ot(this).find("FolderId").text(),w=Ot(this).find("FolderId").text(),TopMatchRespID=Ot(this).find("ResponseId").text(),TopMatchConf=Ot(this).find("Confidence").text(),Score=Ot(this).find("Score").text(),A=Ot.trim(Ot(this).find("Message").text()),("423023"==Ot(this).find("MesGroupId").text()||"422258"==Ot(this).find("MesGroupId").text()||"671737"==Ot(this).find("MesGroupId").text()||"671734"==Ot(this).find("MesGroupId").text()||"671589"==Ot(this).find("MesGroupId").text()||"3881"==Ot(this).find("ResponseId").text()&&"VERY_HIGH"!=Ot(this).find("Confidence").text())&&(flag="false"),be=null==jt("ProjectScore")||0==jt("ProjectScore")?"500":jt("ProjectScore"),1==g&&(function(e){if("Microsoft Internet Explorer"==Y)if("MSIE 7.0"==y)Ot.ajax({type:"POST",url:yql_url(encodeURIComponent(E+"GetProjectScorefromConfig?ProjectId="+e)),dataType:"jsonp",contentType:"application/json;charset=utf-8",success:function(e){je=e.results[0],Qe()}});else{var t=new XDomainRequest;t.open("get",E+"GetProjectScorefromConfig?ProjectId="+e),t.onerror=function(){},t.ontimeout=function(){},t.onprogress=function(){},t.onload=function(){Te=t.responseText,"MSIE 9.0"==y?Tt("CPS",String(Te).substr(79,24)):Qe(Te)},setTimeout(function(){t.send()},0)}else url_name=E,Ot.ajax({type:"POST",url:url_name+"GetProjectScorefromConfig",data:{ProjectId:e},dataType:"xml",success:Qe})}(b),be=null==jt("CPS")||0==jt("CPS")?"500":jt("CPS")),"VERY_HIGH"==TopMatchConf||"HIGH"==TopMatchConf&&Number(Score)>=Number(be))flag="true";else{if(1==g)return!(u='<div class="VAclear"></div><div class="speech-bubble1"><strong class="va_says" style="margin-bottom:5px">Jamie says:</strong></br><div>I am sorry, I am unable to help you with this question. Please rephrase your question.</div></div>');flag="false"}if("true"===flag){1==g&&(Q=!0,g=0,T=Ot(this).find("Message").text()),Ot("img.avatar_img").attr("src",xe+"images/Neutral.png"),u+='<p class="red_color">',u+="</p>";var t=Ot(this).find("Text").text();if(t=(t=(t=t.replace("&lt;scope&gt;","<b>"+ae+"</b>")).replace("&lt;agencyshort&gt;","<b>"+ie+"</b>")).replace("&lt;agency&gt;","<b>"+ne+"</b>"),oe+="You asked:"+question+"\n","Contextual Question"!=A&&0!=I&&1!=Q&&1!=K&&(S=Ot(this).find("Context").text()),"What is the time?"==Ot(this).find("Message").text()){var s=new Date,o=s.getDate(),i=s.getMonth()+1,n=s.getFullYear(),a=s.getMinutes()<10?"0"+s.getMinutes():s.getMinutes(),r=12<=s.getHours()?"pm":"am",l=12<s.getHours()?s.getHours()-12:s.getHours();d=new Date,x=d.getDay(),t=Ot(this).find("Text").text()+" "+l+":"+a+r+" on "+["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][x]+" "+o+"/"+i+"/"+n}QTextsurvey=A.toLowerCase().trim(),-1!=QTextsurvey.indexOf("rephrase question")||-1!=QTextsurvey.indexOf("catch all")||-1!=QTextsurvey.indexOf("contextual question")||-1!=QTextsurvey.indexOf("knowledge gap")?(ve=0,"undefined"!=typeof openAuto&&openAuto&&Ot(".mdone").hide()):(ve=1,"undefined"!=typeof openAuto&&openAuto&&Ot(".mdone").show()),1!=ge&&(u='<div class="VAclear"></div><div class="speech-bubble1"><strong class="va_says">Jamie says:</strong><div>'+t+"</div></div>",u+='<div class="VAclear"></div><div class="decision_tree-'+H+++'"></div>'),"Contextual Question"==A&&void 0!==S&&0!=Ot.trim(S).length?se=!(u=""):(se=!1,1!=Q&&(pe=!1),output5+='<button class="button-question" id="btnQn" type="button" ><font class="fbtext">Did my answer help you?</font></button>',output5+='<button class="button-yes" id="btnYes" title ="Yes" type="button" ></button>',output5+='<button class="button-clear" id="btnClear" type="button" ></button><span></span>',output5+='<button class="button-no" id="btnNo" title ="No" type="button"></button><span></span>',output5=(ce.indexOf("SM-T320"),'<div class="VAclear"></div><div class="float_fb'+R+'  ">'+output5+'</div><div class="VAclear"></div>'),f=Ot(this).find("MesGroupId").text(),Ze.push([m,f]),1==K&&et.push([m]),1==K&&(P=et[0].toString(),M=et[1].toString(),function(e,t,s){if(y=qe(),"Microsoft Internet Explorer"==Y)if("MSIE 7.0"==y)Ot.ajax({type:"POST",url:yql_url(encodeURIComponent(E+"ProcessCrossProject?MainProjectMesId="+e+"&CrossProjectMesId="+t+"&MainProjectName="+s+"&format=xml&callback=?")),dataType:"jsonp",contentType:"application/json; charset=utf-8",success:function(e){e.results[0]}});else{var o=new XDomainRequest;o.open("get",E+"ProcessCrossProject?MainProjectMesId="+e+"&CrossProjectMesId="+t+"&MainProjectName="+s),o.onerror=function(){},o.ontimeout=function(){},o.onprogress=function(){},o.onload=function(){o.responseText},o.send()}else url_name=E,Ot.ajax({type:"POST",url:url_name+"ProcessCrossProject",data:{MainProjectMesId:e,CrossProjectMesId:t,MainProjectName:s},dataType:"xml"})}(P,M,N),K=!1,et.length=0),R++,G==W&&(U=0),"Catch all"==A?(et.length=0,et.push([m]),de=!0,C=t,u="",1!=g?(g=1,c(V)):(L=1,G=W)):de=!1)}else se=!1,et.length=0,et.push([m]),pe=!0,Ot("img.avatar_img").attr("src",xe+"images/Neutral.png"),"0"!=I&&"Contextual Question"!=A?(oe=oe+"You asked:"+_.replace(/[^a-zA-Z0-9?.+\-\*\/\s]/g,"")+"\n",output3+="<p>",output3+="<div class='VAclear'></div><div class='speech-bubble1'><strong class='va_says'>Jamie says:</strong>",output3+="<p>",output3+="I found the following information which could help you</p>",output2+='&bull;&nbsp;<a href="'+(D.length+1)+'" question_Id="'+(D.length+1)+'" custom_MesGroupId="'+Ot(this).find("MesGroupId").text()+'">'+Ot(this).find("Message").text()+"</a></br>",p=0,G==W&&(U=0),h++,1!=g?(g=1,Score>=relatedscore&&"VERY_HIGH"!=TopMatchConf?""==u&&setTimeout(function(){nt(v)},50):c(V)):(L=1,G=W)):(null!=C&&(u='<div class="VAclear"></div><div class="speech-bubble1"><strong class="va_says" style="margin-bottom:5px">Jamie says:</strong></br><div>'+C+"</div></div>",lt()),se=!1)}else"0"!=(I=Ot(this).find("FolderId").text())&&"0"==w&&"3881"==TopMatchRespID&&"VERY_HIGH"!=TopMatchConf?0<e&&"false"==flag&&(output3="<p>",output3+="<div class='VAclear'></div><div class='speech-bubble1'><strong>Jamie says:</strong>",output3+="<p>",output3+="I found the following information which could help you</p>",output2+='&bull;&nbsp;<a href="'+(D.length+1)+'" question_Id="'+(D.length+1)+'" custom_MesGroupId="'+Ot(this).find("MesGroupId").text()+'">'+Ot(this).find("Message").text()+"</a></br>",p=0,G==W&&(U=0),h++):"0"!=I&&"0"!=w&&"Contextual Question"!=A&&(1==e&&"true"==flag&&(output2+='<strong style="margin-bottom:6px">Related Questions</strong></br>',G==W&&(U=0)),output2+='&bull;&nbsp;<a href="'+(D.length+1)+'" question_Id="'+(D.length+1)+'" custom_MesGroupId="'+Ot(this).find("MesGroupId").text()+'">'+Ot(this).find("Message").text()+"</a></br>"),"0"!=I&&"0"!=w&&1==e&&"true"==Ot(this).find("IsTopMatch").text()&&400<Ot(this).find("Score").text()&&(ue=1,j=Ot(this).find("MesGroupId").text(),Ot(this).find("Text").text(),k=Ot(this).find("Message").text()),h++;if(4==h)return!1}),clear_div="",1==se&&(output2=u=""),""!=output2&&(1==p?"0"!=w&&(output2='<div class="float_right'+F+++' sliding_panel"><button class="sliding_panel_close" type="button">x</button>'+output2+'</div><div class="VAclear"></div><div class="sliding_panel_button"><a  href="javascript:void(0)" class="sliding_panel_button related_question">Related Questions</a></div>'):output2='<div class="float_right'+F+++'" style="max-width:98%">'+output2+"</div>",clear_div='<div class="VAclear"></div>',at()),""==output3?""!=u||""!=output2?(D.push(e),1==de&&(u=""),""!=u&&(u=output3+u+output2+clear_div),"0"!=w&&"Contextual Question"!=A&&""!=output5&&(u+=output5),lt(),$++,""!=f&&pt(G,f,H),""!=u&&(st(),at(),"0"!=w&&(Ot(".avatar_content li div.float_fb"+(R-1)).find("#btnYes").each(function(){navigator.userAgent.match(/iPhone/i);Ot(this).click(function(e){var t=Ot(".avatar_content li div.float_fb"+(R-1)).find("#btnYes").closest("div").attr("class");ot(Ze[t=R-1][0],Ze[t][1],J),Ot(this).parent().css("display","none"),Ot(".project_2_answer_heading").css("margin-top","7px")})}),Ot(".avatar_content li div.float_fb"+(R-1)).find("#btnNo").each(function(){navigator.userAgent.match(/iPhone/i);Ot(this).click(function(e){var t=Ot(this).parent().attr("class");t=t.substring(8,10),t=parseInt(t),ot(Ze[t][0],Ze[t][1],B),Ot(this).parent().css("display","none"),Ot(".project_2_answer_heading").css("margin-top","7px")})})))):(pe=!1,se=(1==se?(question="MSIE 7.0"==y?(S=S.replace(/\s/g,"+"),question+"+"+S):question+" "+S,We(G,question,"","en","")):(se=!1,et.length=0,et.push([m]),Ot("img.avatar_img").attr("src",xe+"images/Neutral.png"),1!=g?(g=1,c(V)):(L=1,G=W),lt()),!1)):(D.push(e),$++,fe.push(output2),he.push(output3)),url_name=E}function st(){Ot(".sliding_panel_button a").click(function(e){e.preventDefault(),Ot(".chat_box textarea").blur(),"block"==Ot(this).parent().parent().find(".sliding_panel").css("display")?Ot(this).parent().parent().find(".sliding_panel").css("display","none"):Ot(this).parent().parent().find(".sliding_panel").css("display","block")}),Ot(".sliding_panel_close").click(function(){Ot(this).parent().parent().find(".sliding_panel").css("display","none")})}function ot(e,t,s){if(y=qe(),"Microsoft Internet Explorer"==Y)if("MSIE 7.0"==y)Ot.ajax({type:"POST",url:yql_url(encodeURIComponent(E+"ProcessFeedback?ProjectId="+G+"&MesId="+e+"&Feedback="+s+"&MesGroupID="+t+"&SessionId="+Re()+"&format=xml&callback=?")),dataType:"jsonp",contentType:"application/json; charset=utf-8",success:function(e){e.results[0]}});else{var o=new XDomainRequest;o.open("get",E+"ProcessFeedback?ProjectId="+G+"&MesId="+e+"&Feedback="+s+"&MesGroupID="+t+"&SessionId="+Re()),o.onerror=function(){},o.ontimeout=function(){},o.onprogress=function(){},o.onload=function(){o.responseText},o.send()}else url_name=E,Ot.ajax({type:"POST",url:url_name+"ProcessFeedback",data:{ProjectId:G,MesId:e,Feedback:s,MesGroupID:t,SessionId:Re()},dataType:"xml"})}function it(e,t){if(y=qe(),"Microsoft Internet Explorer"==Y)if("MSIE 7.0"==y)Ot.ajax({type:"POST",url:yql_url(encodeURIComponent(E+"RecordCrossAgencyQuery?MesId="+e+"&TLA="+t+"&format=xml&callback=?")),dataType:"jsonp",contentType:"application/json; charset=utf-8",success:function(e){e.results[0]}});else{var s=new XDomainRequest;s.open("get",E+"RecordCrossAgencyQuery?MesId="+e+"&TLA="+t),s.onload=function(){s.responseText},s.send()}else url_name=E,Ot.ajax({type:"POST",url:url_name+"RecordCrossAgencyQuery",data:{MesId:e,TLA:t},dataType:"xml"})}function nt(e){if(Ot(".load").css("display","none"),srclang="en",0==pe){u="<div class='VAclear'></div><div class='speech-bubble1'><strong class='va_says'>Jamie says:</strong>",oe=oe+"You asked:"+_.replace(/[^a-zA-Z0-9?.+\-\*\/\s]/g,"")+"\n",u+="<p>";var t=function(e){var t,s=0;for(t=(t=e.replace(/\s/g," ")).split(" "),z=0;z<t.length;z++)0<t[z].length&&s++;return s}(e);outputRephrase="I am sorry, I am unable to help you with this question. Please rephrase your question.</p>",2<t?outputRephrase="I am sorry, I am unable to help you with this question. Please rephrase your question.</p>":t<3&&"en"==srclang&&(outputRephrase="I note that you have only typed keywords. I can provide a better response to a full question. Please ask again.</p>");outputContact='<p>Currently I can answer questions relating to SPF. If you were asking a SPF-related question, you may send your enquiries to us <a href="https://eservices.police.gov.sg/content/policehubefeedback/efeedback/feedbackform.html" target="_blank">here</a></p>',4851960==G&&U++,1==de?(u='<div class="VAclear"></div><div class="speech-bubble1"><strong class="va_says">Jamie says:</strong><div>'+C+"</div></div>",de=!1):(u+=3<=U?outputContact:outputRephrase,0),ve=0,"undefined"!=typeof openAuto&&openAuto&&Ot(".mdone").hide(),lt()}else ve=1,"undefined"!=typeof openAuto&&openAuto&&Ot(".mdone").show(),u=he[0]+fe[0]+clear_div,he.length=0,fe.length=0,output3=0,output2=0,lt(),st(),at()}function at(){Ot(".avatar_content li div.float_right"+(F-1)).find("a").each(function(){Ot(this).click(function(e){e.preventDefault(),e.stopImmediatePropagation(),Ot("img.avatar_img").attr("src",xe+"images/neutral.png");var c=Ot(this);link_con_xml=Number(Ot(this).attr("question_Id")),link_text=Ot(this).text(),custom_MesGroupId=Ot(this).attr("custom_MesGroupId"),function(e){if(y=qe(),"Microsoft Internet Explorer"==Y)if("MSIE 7.0"==y)Ot.ajax({type:"POST",url:yql_url(encodeURIComponent(E+"AddQuestionsClicked?ProjectId="+G+"&MesId="+e+"&Source="+X+"&SessionId="+Re()+"&format=xml&callback=?")),dataType:"jsonp",contentType:"application/json; charset=utf-8",success:function(e){e.results[0]}});else{var t=new XDomainRequest;t.open("get",E+"AddQuestionsClicked?ProjectId="+G+"&MesId="+e+"&Source="+X+"&SessionId="+Re()),t.onerror=function(){},t.ontimeout=function(){},t.onprogress=function(){},t.onload=function(){t.responseText},t.send()}else url_name=E,Ot.ajax({type:"POST",url:url_name+"AddQuestionsClicked",data:{ProjectId:G,MesId:e,Source:X,SessionId:Re()},dataType:"xml"})}(custom_MesGroupId),xml_2=D[link_con_xml-1],Ot(xml_2).find("Response").each(function(e){if(link_text==Ot(this).find("Message").text()){1!=q?(u='<span class="previous_top_match">Previous</span></br></br>',u+="<strong>"):u='<div class="VAclear"></div><div class="speech-bubble"><strong>',u+="You selected:</strong> <p>"+Ot(this).find("Message").text()+"</p></div>";var t=Ot(this).find("Text").text();if("The date and time is"==Ot(this).find("Text").text()){var s=new Date,o=s.getDate(),i=s.getMonth()+1,n=s.getFullYear(),a=s.getMinutes()<10?"0"+s.getMinutes():s.getMinutes(),r=12<s.getHours()?s.getHours()-12:s.getHours(),l=12<r?"PM":"AM";t=Ot(this).find("Text").text()+" "+r+":"+a+l+" "+o+"/"+i+"/"+n}u+='<div class="VAclear"></div><div class="speech-bubble1"><strong class="va_says" style="margin-bottom:5px">Jamie says:</strong></br><div>'+t+"</div></div>",output3=Ot(c).parent().html(),Ot(c).parent().parent().find(".sliding_panel_button").remove(),Ot(c).parent().parent().find(".sliding_panel_close").remove(),output3=output3.replace("x",""),Ot(c).parent().remove(),u=u+'<div class="VAclear"></div><div class="decision_tree-'+H+++'"></div>',pt(G,custom_MesGroupId,H),1==Ot(xml_2).find("Response").length||(u+='<div class="float_right'+F+++' sliding_panel"><button class="sliding_panel_close" type="button">x</button>'+output3+'</div><div class="sliding_panel_button"><a class="sliding_panel_button related_question" href="javascript:void(0)">Related Questions</a></div>'),lt(),at(),st(),1!=q&&previous_init()}})})})}function rt(t,s){var o;o="http://www.ifaq.gov.sg/VA/apps/fcd_faqmain.aspx?siteID=600&searchchoice=WOG&q="+t,Ot(".project_2_display_link").last().click(function(e){return function(e){if(y=qe(),"Microsoft Internet Explorer"==Y)if("MSIE 7.0"==y)Ot.ajax({type:"POST",url:yql_url(encodeURIComponent(E+"DeleteSearchQuestion?MesId="+e+"&format=xml&callback=?")),dataType:"jsonp",contentType:"application/json; charset=utf-8",success:function(e){e.results[0]}});else{var t=new XDomainRequest;t.open("get",E+"DeleteSearchQuestion?MesId="+e),t.onload=function(){t.responseText},t.send()}else url_name=E,Ot.ajax({type:"POST",url:url_name+"DeleteSearchQuestion",data:{MesId:e},dataType:"xml"})}(s),function(e){if(y=qe(),"Microsoft Internet Explorer"==Y)if("MSIE 7.0"==y)Ot.ajax({type:"POST",url:yql_url(encodeURIComponent(E+"AddGifiQuestionHistory?ProjectId="+G+"&IPAddress="+Oe()+"&SearchChoice=WOG&ClusterName=&QuestionAsked="+e+"&format=xml&callback=?")),dataType:"jsonp",contentType:"application/json; charset=utf-8",success:function(e){e.results[0]}});else{var t=new XDomainRequest;t.open("get",E+"AddGifiQuestionHistory?ProjectId="+G+"&IPAddress="+Oe()+"&SearchChoice=WOG&ClusterName=&QuestionAsked="+e),t.onload=function(){t.responseText},t.send()}else url_name=E,Ot.ajax({type:"POST",url:url_name+"AddGifiQuestionHistory",data:{ProjectId:G,IPAddress:Oe(),SearchChoice:"WOG",ClusterName:"",QuestionAsked:e},dataType:"xml"})}(t),window.open(o,"_blank","top=150,left=300,width=600,height=400,scrollbars=yes").focus(),!1})}function lt(){if(Ot("li.last_li").removeClass("last_li"),0==Q&&(1==me&&(Ot("li").css("border-bottom","0px"),Ot("li").css("padding-bottom","1px")),u='<li class="last_li">'+u+"</li>"),content_height1=Ot(".avatar_content > ul").outerHeight(),0==Q&&0==L)1==q?Ot(".avatar_content > ul").append(u):(Ot(".avatar_content > ul").append(u),content_height1=0),0;else if(1==Q)if(ve=0,"undefined"!=typeof openAuto&&openAuto&&Ot(".mdone").hide(),0==n)"0"!=w?(1==pe?(u="",0==content_height1&&(u='<li class="last_li">'),u+='<div class="VAclear"></div><div class="speech-bubble1"><strong class="va_says">Jamie says:</strong><p class="project_2_answer_heading">I found an answer from <b>'+r+'</b>. Would you like me to display the answer for the following question?<ul><li class="project_2_display_link" question="'+v+'">'+T+'</li></ul></p><div class="project_2_answer"></div></div>'):(u=(content_height1,""),content_height1,u+='<div class="VAclear"></div><div class="speech-bubble1"><strong class="va_says">Jamie says:</strong><p class="project_2_answer_heading">I found an answer from <b>'+r+'</b>. Would you like me to display the answer for the following question? <ul><li class="project_2_display_link" question="'+v+'">'+T+'</li></ul></p><div class="project_2_answer"></div></div>'),0==content_height1?Ot(".avatar_content > ul").append(u):Ot(".avatar_content > ul").append("<li class='last_li'>"+u+"</li>"),it(et[0].toString(),re),t=b,Ot(".project_2_display_link").last().click(function(e){repeat_question=Ot(this).attr("question"),g=1,G=t,n=2,i=Ot(this).parent().parent(),K=!0,We(t,repeat_question,"","en","")})):9755532==b&&1!=ge&&(n=2,K=!0,We(b,question,"","en",""));else{n=0;var e=Ot(i).outerHeight();u='<div class="VAclear"></div><div class="speech-bubble"><strong>You selected:</strong><br>'+question+"</div>"+u,Ot(".avatar_content > ul").append('<li class="last_li">'+u+"</li>"),Ot(i).find("div.sliding_panel_button").css("top",e+"px"),Ot(i).find("div.sliding_panel").css("top",e+30+"px")}var t;"1"==ue&&"VERY_HIGH"==TopMatchConf&&(1!=Q&&(u=(Ot.browser.mobile,'<div class="VAclear"></div><div class="speech-bubble1"><p class="project_2_answer_heading" style="margin-top:0">I found more information.<ul style="margin:0"><li class="multiple_answer_link" style="color: #156399;">'+k+'</li></ul><div class="project_2_answer"></div></div>'),Ot(".avatar_content > ul > li").last().append(u),Ot(".multiple_answer_link").last().click(function(e){Dt(j)})),ue=0),Q=!1,ue=L=0,Ot(".avatar_content").css("overflow-y","scroll"),Ot(".speech-bubble:last").scrollIntoView(),Ot.browser.mobile?Ot(".chat_box textarea").val(""):(Ot(".chat_box textarea").val(""),Ot(".chat_box textarea").focus(),"MSIE 9.0"==y&&(Ot("ul.autocomplete").css({display:"none"}),Ot(".chat_box textarea").blur()))}function ct(){Ot(".speech-bubble:last").scrollIntoView()}function ut(){Ot(".speech-bubble1:last").scrollIntoView()}function pt(o,i,s){if(O=Ye="",l=ze=0,url_name=E,y=qe(),"Microsoft Internet Explorer"==Y)if("MSIE 7.0"==y)Ot.ajax({type:"POST",url:yql_url(encodeURIComponent(E+"GetGPFId?ProjectId="+o+"&MesId="+i+"&format=xml&callback=?")),dataType:"jsonp",contentType:"application/json; charset=utf-8",success:function(e){Xe=e.results[0],n()}});else{var e=new XDomainRequest;e.open("get",E+"GetGPFId?ProjectId="+o+"&MesId="+i),e.onerror=function(){},e.ontimeout=function(){},e.onprogress=function(){},e.onload=function(){n(Ne=e.responseText)},e.send()}else Ot.ajax({type:"POST",url:url_name+"GetGPFId",data:{ProjectId:o,MesId:i},dataType:"xml",success:n});function n(e){var t;null==e&&null==Ne&&null==Xe||"MSIE 7.0"!=y&&"MSIE 8.0"!=y||(y=qe(),(t=new ActiveXObject("Microsoft.XMLDOM")).async="false","MSIE 7.0"==y?t.loadXML(Xe):t.loadXML(Ne),e=t);if(0!=ze&&0!=l?O+='<div class="VAclear"></div><p class = "speech-bubble1" ><strong class="va_says">Jamie says:</strong></br>':(ze=Ot(e).find("GPFColl").children("GPFID").text(),l=Ot(e).find("GPFColl").children("RootNodeID").text(),0!=ze&&(O+='<div class="VAclear"></div><p class = "speech-bubble1" >')),"Microsoft Internet Explorer"==Y)if("MSIE 7.0"==y)Ot.ajax({type:"POST",url:yql_url(encodeURIComponent(E+"GetGPFTree?ProjectId="+o+"&MesId="+i+"&GPFId="+ze+"&ParentNodeId="+l+"&Source="+X+"&SessionId="+Re()+"&SourceLanguage=en&format=xml&callback=?")),dataType:"jsonp",contentType:"application/json; charset=utf-8",success:function(e){Ue=e.results[0],a()}});else{var s=new XDomainRequest;s.open("get",E+"GetGPFTree?ProjectId="+o+"&MesId="+i+"&GPFId="+ze+"&ParentNodeId="+l+"&Source="+X+"&SessionId="+Re()+"&SourceLanguage=en"),s.onerror=function(){},s.ontimeout=function(){},s.onprogress=function(){},s.onload=function(){a(Ve=s.responseText)},s.send()}else Ot.ajax({type:"POST",url:url_name+"GetGPFTree",data:{ProjectId:o,MesId:i,GPFId:ze,ParentNodeId:l,Source:X,SessionId:Re(),SourceLanguage:"en"},dataType:"xml",success:a})}function a(e){var t;"MSIE 7.0"!=(y=qe())&&"MSIE 8.0"!=y||((t=new ActiveXObject("Microsoft.XMLDOM")).async="false","MSIE 7.0"==y?t.loadXML(Ue):t.loadXML(Ve),e=t),xml_helper=e,""!=Ye&&(O+='<span class="black_bold"></span>'),Ot(e).find("GPFColl").each(function(e){Ot(xml_helper).find("GPFColl").each(function(){Ot(this).find("GPFSeq").text()==e+1&&(type=Ot(this).find("Type").text(),1==type?O+='<a  style="text-decoration:none" href="'+Ot(this).find("Data").text()+'" target="_blank"><span style="display:inline-block" class="type-1">'+Ot(this).find("Comment").text()+"</span></a>":2==type?function(e){if(y=qe(),"Microsoft Internet Explorer"==Y)if("MSIE 7.0"==y)Ot.ajax({type:"POST",url:yql_url(encodeURIComponent(E+"GetMQA?ProjectId="+G+"&MesId="+e+"&Source="+X+"&SessionId="+Re()+"&format=xml&callback=?")),dataType:"jsonp",contentType:"application/json; charset=utf-8",success:function(e){Be=e.results[0],s()}});else{var t=new XDomainRequest;t.open("get",E+"GetMQA?ProjectId="+G+"&MesId="+e+"&Source="+X+"&SessionId="+Re()),t.onerror=function(){},t.ontimeout=function(){},t.onprogress=function(){},t.onload=function(){s(Je=t.responseText)},t.send()}else url_name=E,Ot.ajax({type:"POST",url:url_name+"GetMQA",data:{ProjectId:G,MesId:e,Source:X,SessionId:Re()},dataType:"xml",success:s});function s(e){var t;"MSIE 7.0"!=(y=qe())&&"MSIE 8.0"!=y||((t=new ActiveXObject("Microsoft.XMLDOM")).async="false","MSIE 7.0"==y?t.loadXML(Be):t.loadXML(Je),e=t),Ot(".load").css("display","none"),Ot("img.avatar_img").attr("src",xe+"images/neutral.png"),O='<div class="VAclear"></div><div class="speech-bubble1">'+Ot(e).find("ResponseText").text()+"</div>",custom_decision_tree_no=Ye,O+='<div class="decision_tree-'+H+++'"></div>',Ot(".decision_tree-"+(custom_decision_tree_no-1)).append(O),pt(G,Ot(e).find("MesID").text(),H),ct()}}(Ot(this).find("Data").text()):3==type||8==type?O+='<span style="display:inline-block" class="type-3a" main_gpfid="'+Ot(this).find("Data").text()+'">'+Ot(this).find("Comment").text()+"</span>":6==type?O+='<span style="display:inline-block;margin-bottom:5px;" class="type-3" custom_gpfid="'+Ot(this).find("GPFToId").text()+'" +  main_gpfid ="'+Ot(this).find("MainGPFID").text()+'">'+Ot(this).find("Comment").text()+"</span>":5==type&&(O+='<span style="display:block;margin-bottom:5px;">'+Ot(this).find("Comment").text()+"</span>"))})}),""!=O&&(O='<div class="gpfsel" style="padding:0;">'+O+"</div>"),""!=Ye?(Ot(".decision_tree-"+((s=Ye)-1)).append(O),ct()):0!=ze&&(Ot(".decision_tree-"+(s-1)).html(O),Ot(".speech-bubble:last")[0].scrollIntoView(!0)),Ot(".decision_tree-"+(s-1)+" div:last-child .type-3").click(function(){O='<div class="VAclear"></div><p class="speech-bubble"><span class=" black_bold">You selected:<br></span>  '+Ot(this).text()+"</p>",ze=Ot(this).attr("main_gpfid"),l=Ot(this).attr("custom_gpfid"),Ye=s,Ot("img.avatar_img").attr("src",xe+"images/neutral.png"),n()}),Ot(".decision_tree-"+(s-1)+" div:last-child .type-3a").click(function(){!function(e){if(y=qe(),"Microsoft Internet Explorer"==Y)if("MSIE 7.0"==y)Ot.ajax({type:"POST",url:yql_url(encodeURIComponent(E+"GetGPFMesId?GPFId="+e+"&format=xml&callback=?")),dataType:"jsonp",contentType:"application/json; charset=utf-8",success:function(e){Ke=e.results[0],s()}});else{var t=new XDomainRequest;t.open("get",E+"GetGPFMesId?GPFId="+e),t.onerror=function(){},t.ontimeout=function(){},t.onprogress=function(){},t.onload=function(){s($e=t.responseText)},t.send()}else url_name=E,Ot.ajax({type:"POST",url:url_name+"GetGPFMesId",data:{GPFId:e},dataType:"xml",success:s});function s(e){var t;"MSIE 7.0"!=(y=qe())&&"MSIE 8.0"!=y||((t=new ActiveXObject("Microsoft.XMLDOM")).async="false","MSIE 7.0"==y?t.loadXML(Ke):t.loadXML($e),e=t),Ot(".load").css("display","none"),Ot("img.avatar_img").attr("src",xe+"images/neutral.png"),O="",custom_decision_tree_no=Ye,O+='<div  style = "margin-top: -15px" class="decision_tree-'+H+++'"></div>',Ot(".decision_tree-"+(custom_decision_tree_no-1)).append(O),pt(G,Ot(e).find("MesID").text(),H)}}(ze=Ot(this).attr("main_gpfid"))})}}function dt(){1==q&&(Ot(".ask_cheryl_minimized_tab").trigger("click"),1==e&&(Ot("div.chat_box").animate({right:"-1500px"},300),Ot(".ask_cheryl_minimized_tab").show(),0==t&&(y=qe(),Ot(".ask_cheryl_minimized_tab").trigger("click")),t=1)),Ot(".ask_cheryl_minimized_tab").show()}function ht(){if(y=qe(),"Microsoft Internet Explorer"==Y)if("MSIE 7.0"==y)Ot.ajax({type:"POST",url:yql_url(encodeURIComponent(E+"UpdateSessionsHistory?ProjectId="+G+"&SessionId="+Re()+"&format=xml&callback=?")),dataType:"jsonp",contentType:"application/json; charset=utf-8",success:function(e){e.results[0]}});else{var e=new XDomainRequest;e.open("get",E+"UpdateSessionsHistory?ProjectId="+G+"&SessionId="+Re()),e.onerror=function(){},e.ontimeout=function(){},e.onprogress=function(){},e.onload=function(){e.responseText},e.send()}else url_name=E,Ot.ajax({type:"POST",url:url_name+"UpdateSessionsHistory",data:{ProjectId:G,SessionId:Re()},dataType:"xml"})}function ft(){0<o&&(320<o?(Ot(".chat_box").css("top",""),Ot(".chat_box").css("bottom",s)):Ot(".chat_box").css("bottom","")),-1<ce.indexOf("SM-T320")?(Ot(".chat_box").animate({"max-height":"456px",width:"500px"},50),Ot(".chat_box").css("right","5px"),Ot("img.avatar_img").css("display","none"),Ot(".avatar_content > ul").css("width","500px")):Ot(".chat_box").animate({"max-height":"456px",width:"600px"},50),Ot(".chat_box div.avatar_content").css({display:"block"}),"undefined"!=typeof openAuto&&openAuto?(Ot(".chat_box").css({display:"block"}),Ot(".VAclose").css({display:"none"})):Ot(".VAclose").css({display:"block"}),Ot("img.avatar_img").css("right","120px"),Ot("img.avatar_img").css("bottom","0px"),Ot(".send_container").css("border-bottom-left-radius","0"),Ot(".send_container").css("border-bottom-right-radius","0"),Ot(".send_container").css("display","block"),Ot(".send_container").css("margin-top","0px"),Ot(".avatar_footer").css("display","block"),Ot(".chat_box textarea").css("width","80%"),Ot(".ie-7 .chat_box textarea").css("width","60%"),Ot(".ie-7 div.text_chat").css("border-top-style","solid"),Ot(".ie-7 div.text_chat").css("border-top-width","1px"),Ot(".ie-7 .send_button").show(),Ot(".ie-7 div.chat_box").css("border-left","1px"),Ot(".send_button").show(),Ot(".chat_box textarea").css("padding-top","12px"),Ot(".chat_box textarea").css("vertical-align","middle"),Ot(".text_chat").css("height","43px"),Ot(".parallelogram").css("height","30px"),Ot(".parallelogram").css("width","265px"),Ot(".parallelogram").css("left","300px"),jQuery.browser.mobile&&Ot(".chat_box textarea").css("padding-top","10px")}Ot(".chat_box textarea").keyup(function(e){if(a=1,"13"==(e.keyCode?e.keyCode:e.which)){_e=0,C=null;var t=Ot(this).val();170<t.length&&Ot(this).val(t.substring(0,170)),question=Ot(this).val(),question=question.replace(/[^a-zA-Z0-9?.+\-\*\/\s]/g,""),question=question.replace(/\</g,""),Q=!1,G=W,n=L=g=0,_=Ot(".chat_box textarea").val(),Ge(question),We(G,question,"yes","en",""),""==Ot.trim(Ot(".chat_box textarea"))&&Ot("ul.autocomplete").css({display:"none"}),e.stopImmediatePropagation()}}),Ot(".send_button").click(function(e){_e=0,C=null;var t=Ot(".chat_box textarea").val();170<t.length&&Ot(".chat_box textarea").val(t.substring(0,170)),question=Ot(".chat_box textarea").val(),question=question.replace(/[^a-zA-Z0-9?.+\-\*\/\s]/g,""),question=question.replace(/\</g,""),Q=!1,G=W,n=L=g=0,_=Ot(".chat_box textarea").val(),Ge(question),We(G,question,"yes","en",""),e.stopImmediatePropagation()}),Ot(".chat_box").draggable({handle:".chat_head"},{stop:function(e,t){o=Ot(this).offset().top,s=Ot(this).css("bottom")}}),Ot(".mdone").click(function(e){"MSIE 9.0"==y&&(e.preventDefault(),e.stopImmediatePropagation());var t=Ie+"?SessionID="+Re();1==ve&&window.open(t,"Windows","width=520,height=655,toolbar=no,menubar=no,scrollbars=yes,resizable=no,location=no,directories=no,status=no"),ht(),"undefined"!=typeof openAuto&&openAuto||dt()}),Ot(".VAclose").click(function(e){"MSIE 9.0"==y&&(e.preventDefault(),e.stopImmediatePropagation()),ht(),dt()}),Ot(".chat_box textarea").click(function(e){ft(),0==c&&kt(),c++,"MSIE 9.0"==y&&(e.preventDefault(),e.stopImmediatePropagation())});var mt,gt,vt,_t,bt,yt,xt,It,wt=(mt=0,function(e,t){clearTimeout(mt),mt=setTimeout(e,t)});function Pt(e){if(1<(e=(e=e.replace(/[^a-zA-Z0-9?.+\-\*\/\s]/g,"")).replace(/\</g,"")).replace(/\+/g,"").length)if("MSIE 7.0"!=y&&(e=e.replace(/\+/g," "),e=Ot.trim(e)),G=W,y=qe(),"Microsoft Internet Explorer"==Y)if("MSIE 7.0"==y)Ot.ajax({type:"POST",url:yql_url(encodeURIComponent(E+"GetSuggestedQuestions?ProjectId="+G+"&SuggQuesCount=5&SearchText="+e)),dataType:"jsonp",contentType:"application/json; charset=utf-8",success:function(e){vt=e.results[0],Mt()}});else{var t=new XDomainRequest;t.open("get",E+"GetSuggestedQuestions?ProjectId="+G+"&SuggQuesCount=5&SearchText="+e),t.onload=function(){Mt(gt=t.responseText)},t.send()}else url_name=E,Ot.ajax({type:"POST",url:url_name+"GetSuggestedQuestions",data:{ProjectId:G,SuggQuesCount:"5",SearchText:e},dataType:"xml",success:Mt})}function Mt(e){var t;"MSIE 7.0"!=(y=qe())&&"MSIE 8.0"!=y||((t=new ActiveXObject("Microsoft.XMLDOM")).async="false","MSIE 7.0"==y?t.loadXML(vt):t.loadXML(gt),e=t),auto_c='<font class= "predtext">Are you looking for</font></br>';var s="";Ot.fn.reverse=[].reverse,Ot(e).find("GPFColl").reverse().each(function(e){s=Ot(this).find("MasterQuestion").text(),auto_c+="<li>"+s+"</li>"}),Ot("ul.autocomplete").html(auto_c),1==a&&Ot("ul.autocomplete").css({display:"block"}),_t=0,Ot(".chat_box textarea").val(),Ot(".chat_box textarea").unbind("keydown"),Ot(".chat_box textarea").keydown(function(e){var t=e.keyCode?e.keyCode:e.which;if("13"==t)"block"==Ot("ul.autocomplete").css("display")&&Ot("ul.autocomplete li").hasClass("auto_hover")&&(value_to_be_ins=Ot("ul.autocomplete li.auto_hover").html(),Ot(".chat_box textarea").val(value_to_be_ins),"MSIE 9.0"==y&&(e.preventDefault(),e.stopImmediatePropagation()));else{if(38==t)return 0==_t?(Ot("ul.autocomplete li:last").addClass("auto_hover"),_t=1):St("pre"),!1;if(40==t)return 0==_t?(Ot("ul.autocomplete li:last-child").addClass("auto_hover"),_t=1):St("next"),!1;8==t&&Ot.trim(Ot(".chat_box textarea").val().replace(/\+/g,"")).length<2&&Ot("ul.autocomplete").css({display:"none"})}}),Ot("ul.autocomplete li").each(function(){Ot(this).hover(function(){Ot("ul.autocomplete li.auto_hover").removeClass("auto_hover"),Ot(this).addClass("auto_hover"),_t=1}),Ot(this).click(function(e){Ot("ul.autocomplete").css({display:"none"}),value_to_be_ins=Ot("ul.autocomplete li.auto_hover").html(),Ot(".chat_box textarea").val(value_to_be_ins),Ot(".send_button").show(),Ot(".avatar_content > div.FAQ_links").css("display"),Ot(".send_button").trigger("click")})}),""==s&&(Ot("ul.autocomplete").css({display:"none"}),Ot(".avatar_content > div.FAQ_links").css("display"),Ot(".send_button").show())}function St(e){if("pre"==e)if(prev=Ot("ul.autocomplete li.auto_hover").prev(),0==prev.length){Ot("ul.autocomplete li.auto_hover").removeClass("auto_hover");var t=Ot(".chat_box textarea").val();Ot.browser.mobile||Ot(".chat_box textarea").focus().val("").val(t),_t=0}else Ot("ul.autocomplete li.auto_hover").removeClass("auto_hover"),prev.addClass("auto_hover");else if(next=Ot("ul.autocomplete li.auto_hover").next(),0==next.length){Ot("ul.autocomplete li.auto_hover").removeClass("auto_hover");t=Ot(".chat_box textarea").val();Ot.browser.mobile||Ot(".chat_box textarea").focus().val("").val(t),_t=0}else Ot("ul.autocomplete li.auto_hover").removeClass("auto_hover"),next.addClass("auto_hover")}function Tt(e,t,s){var o=new Date;o.setDate(o.getDate()+s);var i=escape(t)+(null==s?"":"; expires="+o.toUTCString());document.cookie=e+"="+i}function jt(e){var t,s,o,i=document.cookie.split(";");for(t=0;t<i.length;t++)if(s=i[t].substr(0,i[t].indexOf("=")),o=i[t].substr(i[t].indexOf("=")+1),(s=s.replace(/^\s+|\s+$/g,""))==e)return unescape(o)}function kt(){if(y=qe(),"Microsoft Internet Explorer"==Y)if("MSIE 7.0"==y)Ot.ajax({type:"POST",url:yql_url(encodeURIComponent(E+"GetTopFAQs?ProjectId="+W+"&Category=0&Count=5&Type=3")),dataType:"jsonp",contentType:"application/json; charset=utf-8",success:function(e){yt=e.results[0],Et()}});else{var e=new XDomainRequest;e.open("get",E+"GetTopFAQs?ProjectId="+W+"&Category=0&Count=5&Type=3"),e.onerror=function(){},e.ontimeout=function(){},e.onprogress=function(){},e.onload=function(){Et(bt=e.responseText)},e.send()}else url_name=E,Ot.ajax({type:"POST",url:url_name+"GetTopFAQs",data:{ProjectId:W,Category:"0",Count:"5",Type:"3"},dataType:"xml",success:Et});y=qe()}Ot(".chat_box textarea").keyup(function(e){ft();var t=e.keyCode?e.keyCode:e.which;str_len=Ot(this).val().length,textarea_str_len=str_len%3,0==t||32==t||0==textarea_str_len&&""!=Ot(this).val()&&38!=t&&40!=t&&39!=t&&37!=t?(question2=Ot(this).val(),question2=question2.replace(/\s/g,"+"),1<question2.replace(/\+/g,"").length&&(question2=Ot.trim(question2),wt(function(){Pt(question2)},500))):3<str_len&&str_len<6?(question2=Ot(this).val(),question2=question2.replace(/\s/g,"+"),question2=Ot.trim(question2),1<question2.replace(/\+/g,"").length&&wt(function(){Pt(question2)},1500)):""==Ot.trim(Ot(this).val())&&(Ot("ul.autocomplete").css({display:"none"}),"none"==Ot(".avatar_content > div.FAQ_links").css("display")&&Ot(".FAQ_tab").show())}),Ot(".avatar_content").click(function(e){Ot("ul.autocomplete").css({display:"none"}),Ot(".chat_box textarea").val(""),Ot.browser.mobile,Ot(".send_button").show(),Ot(".avatar_content > div.FAQ_links").css("display")}),Ot(".print_link").click(function(e){Ot(".print").html(Ot(".avatar_content > ul").html());if("MSIE 9.0"==y||"MSIE 8.0"==y||"MSIE 7.0"==y||"MSIE 10.0"==y||"IE 11.0"==y||!Ot.browser.mobile&&De){var t,s=Ot(".avatar_content > ul").html();(t=!Ot.browser.mobile&&De?window.open("","_blank","width=700,height=600,scrollbars=yes"):window.open("","_blank","width=500,height=400,scrollbars=yes")).document.write(s),t.document.close(),t.focus(),t.print(),t.onfocus=function(){t.close()},!Ot.browser.mobile&&De&&t.close(),"MSIE 9.0"==y&&(e.preventDefault(),e.stopImmediatePropagation())}else Ot("ul.print").printArea({mode:"iframe"})}),1==e?(Ot("div.chat_box").css("right","-1500px"),Ot(".chat_box textarea").trigger("keyup")):(e=1,Ot(".ask_cheryl_minimized_tab").css("display","none")),Ot(".ask_cheryl_minimized_tab").click(function(e){if(Ot(".ask_cheryl_minimized_tab").hide(),jQuery.browser.mobile&&("undefined"==typeof forMobile||!forMobile))return Ot(".ask_cheryl_minimized_tab").show(),console.log("You are using a mobile device!"),window.open(xe+"mobile.html?PageTitle="+Z,"_blank").focus(),!1;if(jQuery.browser.mobile?(Ot("div.chat_box").css("left","0"),0==c&&kt(),c++):Ot("div.chat_box").css("left","auto"),e.preventDefault(),e.stopImmediatePropagation(),Ot(this).hasClass("activeTab"))Ot(this).removeClass("activeTab"),Ot("div.chat_box").animate({right:"-1500px"},300);else{Ot(this).addClass("activeTab");var t="undefined"!=typeof openAuto&&openAuto?"5px":"45px";Ot("div.chat_box").animate({right:t},300)}}),"undefined"!=typeof openAuto&&openAuto&&(Ot(".ask_cheryl_minimized_tab").trigger("click"),Ot(".ask_cheryl_minimized_tab").hide(),Ot("div.chat_box").css("left","0 !important"),Ot("span.VAclose").hide());var At=0,Ct=0;function Et(e){var t;if("MSIE 7.0"!=(y=qe())&&"MSIE 8.0"!=y||((t=new ActiveXObject("Microsoft.XMLDOM")).async="false","MSIE 7.0"==y?t.loadXML(yt):t.loadXML(bt),e=t),html_content='<div class="FAQ_links">',Ot(e).find("TopFrequentQuestion").each(function(){"HotTopics"==Ot(this).find("Description").text()?(0==Ct&&(html_content+='<div class ="hottopictitletext">Hot Topics</div>'),Ct++,html_content+='<ul class ="ulFAQ" style="padding-left:16px"><li class="FAQlistyle"><span class="limargin"><a href="javascript:void(0)" custom_mesid="'+Ot(this).find("MesID").text()+'">'+Ot(this).find("MessageText").text()+"</a></span></li></ul>"):(0==At&&0!=Ct&&(html_content+='<div class="faqtitletext">Popular Questions</div>'),html_content+='<ul class ="ulFAQ" style="padding-left:16px"><li class="FAQlistyle" ><span class="limargin"><a href="javascript:void(0)" custom_mesid="'+Ot(this).find("MesID").text()+'">'+Ot(this).find("MessageText").text()+"</a></span></li></ul>",At++)}),html_content+="</div>",popular_content='<div class="popular_links"><button class="FAQs_close" type="button">x</button>',Ot(e).find("TopFrequentQuestion").each(function(){"HotTopics"==Ot(this).find("Description").text()?(0==Ct&&(popular_content+='<div class ="hottopictitletext">Hot Topics</div>'),Ct++):(0==At&&0!=Ct&&(popular_content+='<div class="faqtitletext">Popular Questions</div>'),popular_content+='<ul class ="ulFAQ" style="padding-left:16px"><li class="FAQlistyle" ><span class="limargin"><a href="javascript:void(0)" custom_mesid="'+Ot(this).find("MesID").text()+'">'+Ot(this).find("MessageText").text()+"</a></span></li></ul>",At++)}),popular_content+="</div>",Ot(".chat_head").append(popular_content+'<div class="FAQ_tab"><a href="javascript:void(0)" class="FAQ_tab">Popular</a></div>'),1==$){if(0!=Ct)var s="These are the current Hot Topics & Most Popular Questions";else s="These are the current Most Popular Questions";Ot(".avatar_content > ul").before("<div class='opening_message speech-bubble1' ><font-family:Arial, 'Times New Roman', Times, serif'; font-size: medium>Hi, I'm Jamie, your Virtual Assistant. I am here to answer your questions relating to <strong>Police Matters</strong>. As I am still new, please consider using the search function on our website or submit your enquiry via the <a href='https://eservices.police.gov.sg/content/policehubefeedback/efeedback/feedbackform.html' target='_blank'>Online Feedback Form</a> if I am unable to provide you with an answer.</font></div><div class='VAclear'></div><div class='speech-bubble1'>"+s+html_content+"</div><div class='VAclear'></div><div class='speech-bubble1'>How may I assist you today?</div>")}He(),function(){if("Microsoft Internet Explorer"==Y)if("MSIE 7.0"==y)Ot.ajax({type:"POST",url:yql_url(encodeURIComponent(E+"GetProjectScorefromConfig?ProjectId="+G)),dataType:"jsonp",contentType:"application/json;charset=utf-8",success:function(e){je=e.results[0],Le()}});else{var e=new XDomainRequest;e.open("get",E+"GetProjectScorefromConfig?ProjectId="+G),e.onerror=function(){},e.ontimeout=function(){},e.onprogress=function(){},e.onload=function(){Te=e.responseText,"MSIE 9.0"==y?Tt("ProjectScore",String(Te).substr(79,24)):Le(Te)},setTimeout(function(){e.send()},0)}else url_name=E,Ot.ajax({type:"POST",url:url_name+"GetProjectScorefromConfig",data:{ProjectId:G},dataType:"xml",success:Le})}(),Ot(".FAQ_tab a").click(function(e){e.stopImmediatePropagation(),Ot(".chat_head .popular_links").fadeToggle()}),Ot(".FAQs_close").click(function(){Ot(".popular_links").fadeOut()}),Ot(".FAQ_links a").click(function(e){e.preventDefault(),e.stopImmediatePropagation(),mesid=Ot(this).attr("custom_mesid"),Dt(mesid)}),Ot(".popular_links a").click(function(e){e.preventDefault(),e.stopImmediatePropagation(),Ot(".popular_links").fadeOut(),mesid=Ot(this).attr("custom_mesid"),Dt(mesid)})}function Dt(e){if(Ot(".load").css("display","block"),"none"==Ot(".FAQ_tab").css("display")&&Ot(".FAQ_tab").css("display","block"),y=qe(),"Microsoft Internet Explorer"==Y)if("MSIE 7.0"==y)Ot.ajax({type:"POST",url:yql_url(encodeURIComponent(E+"GetMQA?ProjectId="+W+"&MesId="+e+"&Source="+X+"&SessionId="+Re())),dataType:"jsonp",contentType:"application/json; charset=utf-8",success:function(e){It=e.results[0],qt()}});else{var t=new XDomainRequest;t.open("get",E+"GetMQA?ProjectId="+W+"&MesId="+e+"&Source="+X+"&SessionId="+Re()),t.onerror=function(){},t.ontimeout=function(){},t.onprogress=function(){},t.onload=function(){qt(xt=t.responseText)},t.send()}else url_name=E,Ot.ajax({type:"POST",url:url_name+"GetMQA",data:{ProjectId:W,MesId:e,Source:X,SessionId:Re()},dataType:"xml",success:qt})}function qt(e){var t;"MSIE 7.0"!=(y=qe())&&"MSIE 8.0"!=y||((t=new ActiveXObject("Microsoft.XMLDOM")).async="false","MSIE 7.0"==y?t.loadXML(It):t.loadXML(xt),e=t),Ot(".mdone").show(),"undefined"!=typeof openAuto&&openAuto&&(Ot(".mdone").attr("href",Ie),Ot(".mdone").removeAttr("target"),Ot(".mdone").removeAttr("onclick")),Ot(".chat_head .VAclose").css({right:"95px"}),Ot("img.avatar_img").css("right","120px"),Ot(".load").css("display","none"),Ot("img.avatar_img").attr("src",xe+"images/neutral.png"),u='<div class="VAclear"></div><div class="speech-bubble"><strong>',S=Ot(e).find("Context").text(),u+="You selected:</strong> <p>"+Ot(e).find("MessageText").text()+"</p></div>",u+='<div class="VAclear"></div><div class="speech-bubble1"><strong class="va_says">Jamie says:</strong></br><div>'+Ot(e).find("ResponseText").text()+"</div></div>",U=0,u+='<div class="VAclear"></div><div class="decision_tree-'+H+++'"></div>',pt(G,Ot(e).find("MesID").text(),H),lt()}Ot(".avatar_content").on("mousewheel DOMMouseScroll",function(e){var t=e.originalEvent,s=t.wheelDelta||-t.detail;this.scrollTop+=30*(s<0?1:-1),e.preventDefault()})})}(jQuery);